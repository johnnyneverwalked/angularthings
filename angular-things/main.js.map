{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./node_modules/moment/locale sync ^\\.\\/.*$","./src/app/animations/emerge.animation.ts","./src/app/animations/enter-leave.animation.ts","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/components/button/button.component.ts","./src/app/components/button/button.component.html","./src/app/components/button/button.module.ts","./src/app/components/chat/chat.component.ts","./src/app/components/chat/chat.component.html","./src/app/components/chat/chat.module.ts","./src/app/components/chat/components/chat-body/chat-body.component.ts","./src/app/components/chat/components/chat-body/chat-body.component.html","./src/app/components/chat/components/chat-container/chat-container.component.ts","./src/app/components/chat/components/chat-container/chat-container.component.html","./src/app/components/chat/components/chat-footer/chat-footer.component.ts","./src/app/components/chat/components/chat-footer/chat-footer.component.html","./src/app/components/chat/components/chat-header/chat-header.component.ts","./src/app/components/chat/components/chat-header/chat-header.component.html","./src/app/components/chat/components/chat-list/chat-list.component.ts","./src/app/components/chat/components/chat-list/chat-list.component.html","./src/app/components/chat/components/chat-message-seen/chat-message-seen.component.ts","./src/app/components/chat/components/chat-message-seen/chat-message-seen.component.html","./src/app/components/chat/components/full-chat-container/full-chat-container.component.ts","./src/app/components/chat/components/full-chat-container/full-chat-container.component.html","./src/app/components/chat/pipes/message-has-seen.pipe.ts","./src/app/components/chat/pipes/unseen-messages.pipe.ts","./src/app/components/gravatar-image/gravatar-image.component.ts","./src/app/components/gravatar-image/gravatar-image.component.html","./src/app/components/gravatar-image/gravatar-image.module.ts","./src/app/components/grid/grid-host.directive.ts","./src/app/components/grid/grid-widget/grid-widget.component.ts","./src/app/components/grid/grid-widget/grid-widget.component.html","./src/app/components/grid/grid-widget/grid-widget.module.ts","./src/app/components/grid/grid.component.ts","./src/app/components/grid/grid.component.html","./src/app/components/grid/grid.module.ts","./src/app/components/loader/LoaderTypes.ts","./src/app/components/loader/loader.component.ts","./src/app/components/loader/loader.component.html","./src/app/components/loader/loader.module.ts","./src/app/components/modal/modal.component.ts","./src/app/components/modal/modal.component.html","./src/app/components/modal/modal.module.ts","./src/app/components/tour-guide/tour-guide.component.ts","./src/app/components/tour-guide/tour-guide.component.html","./src/app/components/tour-guide/tour-guide.module.ts","./src/app/components/user-info/user-info.component.ts","./src/app/components/user-info/user-info.component.html","./src/app/components/user-info/user-info.module.ts","./src/app/components/widgets/todo-list/todo-list.component.ts","./src/app/components/widgets/todo-list/todo-list.component.html","./src/app/components/widgets/todo-list/todo-list.module.ts","./src/app/components/widgets/url-shortcut/url-shortcut.component.ts","./src/app/components/widgets/url-shortcut/url-shortcut.component.html","./src/app/components/widgets/url-shortcut/url-shortcut.module.ts","./src/app/directives/tour-guide/tour-guide.directive.ts","./src/app/interfaces/Generics.ts","./src/app/interfaces/IChat.ts","./src/app/interfaces/ITourGuide.ts","./src/app/interfaces/IUser.ts","./src/app/pages/chat-view/chat-view.component.ts","./src/app/pages/chat-view/chat-view.component.html","./src/app/pages/chat-view/chat-view.module.ts","./src/app/pages/grid-view/grid-view.component.ts","./src/app/pages/grid-view/grid-view.component.html","./src/app/pages/grid-view/grid-view.module.ts","./src/app/pages/home/home.component.ts","./src/app/pages/home/home.component.html","./src/app/pages/not-found/not-found.component.ts","./src/app/pages/not-found/not-found.component.html","./src/app/pages/tour-guide-view/tour-guide-view.component.ts","./src/app/pages/tour-guide-view/tour-guide-view.component.html","./src/app/pages/tour-guide-view/tour-guide-view.module.ts","./src/app/pipes/activate-urls/activate-urls.pipe.ts","./src/app/pipes/pipes.module.ts","./src/app/reducers/chat/chat.actions.ts","./src/app/reducers/chat/chat.facade.ts","./src/app/reducers/chat/chat.init.ts","./src/app/reducers/chat/chat.reducer.ts","./src/app/reducers/user/user.actions.ts","./src/app/reducers/user/user.facade.ts","./src/app/reducers/user/user.init.ts","./src/app/reducers/user/user.reducer.ts","./src/app/services/chat-helper.service.ts","./src/app/services/helper.service.ts","./src/app/services/http/chat.service.ts","./src/app/services/navigation/navigation.service.ts","./src/app/services/site.service.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,wE;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-in\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-in.js\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-sg\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./en-sg.js\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fil\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fil.js\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./ga\": \"./node_modules/moment/locale/ga.js\",\n\t\"./ga.js\": \"./node_modules/moment/locale/ga.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-deva\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-deva.js\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it-ch\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it-ch.js\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ku\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ku.js\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./oc-lnc\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./oc-lnc.js\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tk\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tk.js\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-mo\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-mo.js\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","\nimport {animate, state, style, transition, trigger} from \"@angular/animations\";\n\nexport const emerge = trigger(\"emerge\", [\n    transition('void => *', [\n        style({ top: '55%', opacity: 0 }),\n        animate(250)\n    ]),\n    transition('* => void', [\n        animate(100, style({ top: '55%' }))\n    ])\n]);\n\nexport const slideRight = trigger(\"slideRight\", [\n    state(\"visible\", style({transform: \"translateX(0%)\"})),\n    state(\"invisible\", style({transform: \"translateX(150%)\"})),\n    transition(\"visible => invisible\", [\n        animate(\"100ms ease-in-out\", style({transform: \"translateX(-5%)\"})),\n        animate(\"300ms ease-in-out\", style({transform: \"translateX(150%)\"}))\n    ]),\n    transition(\"invisible => visible\", [\n        animate(\"300ms ease-out\", style({transform: \"translateX(0%)\"})),\n    ])\n]);\n","import {animate, keyframes, style, transition, trigger} from \"@angular/animations\";\n\nexport const pulsate = trigger(\"pulsate\", [\n    transition(':enter', [\n        style({transform: \"scale(0)\", opacity: 0}),\n        animate(\"100ms ease-in\", style({transform: \"scale(1.2)\", opacity: 1})),\n        animate(\"100ms ease-in\", style({transform: \"scale(1)\"})),\n        animate(\"100ms ease-in\", style({transform: \"scale(1.2)\"})),\n        animate(\"100ms ease-in\", style({transform: \"scale(0.9)\"})),\n        animate(\"100ms ease-in\", style({transform: \"scale(1)\"}))\n    ]),\n    transition(':leave', [\n        animate(200, style({transform: \"scale(0)\", opacity: 0}))\n    ])\n]);\n\nexport const wiggle = trigger('wiggle', [\n    transition(':enter', animate('800ms ease-in', keyframes([\n        style({transform: 'rotateZ(-5deg)', offset: 0}),\n        style({transform: 'rotateZ(5deg)', offset: 0.1}),\n        style({transform: 'rotateZ(15deg)', offset: 0.2}),\n        style({transform: 'rotateZ(-15deg)', offset: 0.3}),\n        style({transform: 'rotateZ(15deg)', offset: 0.4}),\n        style({transform: 'rotateZ(-15deg)', offset: 0.5}),\n        style({transform: 'rotateZ(15deg)', offset: 0.6}),\n        style({transform: 'rotateZ(5deg)', offset: 0.7}),\n        style({transform: 'rotateZ(-5deg)', offset: 0.8})\n    ]))),\n    transition(':leave', [\n        animate(100, style({opacity: 0}))\n    ])\n]);\n\nexport const fade = trigger(\"fade\", [\n    transition(':enter', [\n        style({opacity: 0}),\n        animate(200, style({opacity: 1})),\n    ]),\n    transition(':leave', [\n        animate(100, style({opacity: 0}))\n    ])\n]);\n\nexport const fadeIn = trigger(\"fadeIn\", [\n    transition(':enter', [\n        style({opacity: 0}),\n        animate(200, style({opacity: 1})),\n    ])\n]);\n\nexport const fadeOut = trigger(\"fadeOut\", [\n    transition(':leave', [\n        style({opacity: 1}),\n        animate(100, style({opacity: 0}))\n    ])\n]);\n","import {NgModule} from '@angular/core';\nimport {Routes, RouterModule} from '@angular/router';\nimport {NotFoundComponent} from \"./pages/not-found/not-found.component\";\nimport {HomeComponent} from \"./pages/home/home.component\";\n\nconst routes: Routes = [\n  {\n    path: \"\",\n    children: [\n      {\n        path: \"tour-guide\",\n        loadChildren: () => import(\"./pages/tour-guide-view/tour-guide-view.module\").then(m => m.TourGuideViewModule),\n      },\n      {\n        path: \"grid\",\n        loadChildren: () => import(\"./pages/grid-view/grid-view.module\").then(m => m.GridViewModule),\n      },\n      {\n        path: \"chat\",\n        loadChildren: () => import(\"./pages/chat-view/chat-view.module\").then(m => m.ChatViewModule),\n      }\n    ]\n  },\n  {path: \"home\", component: HomeComponent},\n  {path: \"**\", component: NotFoundComponent}\n\n\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule {\n}\n","import {Component, OnInit} from '@angular/core';\nimport {Router} from \"@angular/router\";\nimport {fadeIn} from \"./animations/enter-leave.animation\";\nimport {UserFacade} from \"./reducers/user/user.facade\";\nimport {CURRENT_USER_ID} from \"./interfaces/IUser\";\nimport {LocalStorageService} from \"ngx-webstorage\";\nimport {StoredChats} from \"./interfaces/IChat\";\n\n@Component({\n  selector: 'things-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n  animations: [\n    fadeIn\n  ]\n})\nexport class AppComponent implements OnInit{\n  title = 'angular-things';\n\n  public enableGradient: boolean;\n  public menuOpen: boolean;\n\n  public menu: {path: string; name: string; icon: string, params?: any}[] = [\n    {path: \"/tour-guide\", name: \"Tour Guide\", icon: \"la-map-signs\", params: {tourguide: true}},\n    {path: \"/grid\", name: \"Widget Grid\", icon: \"la-cubes\"},\n    {path: \"/chat\", name: \"Chat\", icon: \"la-comments\"}\n  ];\n\n  constructor(\n    private router: Router,\n    private userFacade: UserFacade,\n    private storage: LocalStorageService\n  ) {\n  }\n\n  ngOnInit() {\n    this.router.navigate([\"/home\"]);\n    this.userFacade.load(CURRENT_USER_ID);\n    // this.storage.store(StoredChats, []);\n  }\n\n}\n","<div class=\"vh-100 w-100 d-flex flex-row container-fluid p-0\">\n\n  <div class=\"container-fluid text-white text-nowrap\"\n       [class.bg-primary]=\"!enableGradient\"\n       [class.gradient-animation]=\"enableGradient\"\n       (mouseenter)=\"menuOpen = true\"\n       (mouseleave)=\"menuOpen = false\"\n       [ngStyle]=\"{width: menuOpen ? '300px' : '5%', height: '100%', transition: '.5s width ease-in-out'}\">\n    <div class=\"row bg-dark\" [class.text-center]=\"!menuOpen\">\n      <div class=\"col-12 p-3\">\n        <img class=\"mx-1 basic-hover cursor-pointer\"\n             width=\"40px\" height=\"40px\" src=\"assets/favicon/apple-touch-icon.png\"\n             title=\"Home\"\n             [routerLink]=\"'/home'\">\n        <ng-container *ngIf=\"menuOpen\">\n          <h4 @fadeIn class=\"font-weight-bold d-inline\">John's salad bar!</h4>\n          <br>\n          <small @fadeIn class=\"font-italic\">*But <b class=\"text-success\">salads</b> are <b class=\"text-success\">components</b> instead.</small>\n        </ng-container>\n      </div>\n    </div>\n    <div class=\"row\" *ngFor=\"let item of menu\">\n      <div class=\"col p-3 border-radius basic-hover font-weight-bold cursor-pointer text-center\"\n           [routerLink]=\"item.path\" [queryParams]=\"item.params || {}\">\n        <i class=\"mr-1 la la-2x {{item.icon}}\"></i>\n        <span @fadeIn *ngIf=\"menuOpen\">{{item.name}}</span>\n      </div>\n    </div>\n  </div>\n  <div class=\"flex-fill overflow-y-auto\" [ngStyle]=\"{'z-index': 1}\"\n       [class.bg-light]=\"!enableGradient\"\n       [class.bg-secondary]=\"enableGradient\">\n    <div class=\"container-fluid\">\n      <div class=\"row\">\n        <div class=\"col p-4\">\n          <router-outlet></router-outlet>\n        </div>\n      </div>\n    </div>\n\n    <app-chat-container></app-chat-container>\n  </div>\n</div>\n\n<i class=\"la font-weight-bold la-egg la-2x pointer position-absolute egg\"\n   title=\"easter egg :)\"\n   (click)=\"enableGradient = !enableGradient\">\n</i>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport {ButtonModule} from \"./components/button/button.module\";\nimport {TourGuideViewModule} from \"./pages/tour-guide-view/tour-guide-view.module\";\nimport {BrowserAnimationsModule} from \"@angular/platform-browser/animations\";\nimport {GridViewModule} from \"./pages/grid-view/grid-view.module\";\nimport { NotFoundComponent } from './pages/not-found/not-found.component';\nimport { HomeComponent } from './pages/home/home.component';\nimport {NgbTooltipModule} from \"@ng-bootstrap/ng-bootstrap\";\nimport {ChatViewModule} from \"./pages/chat-view/chat-view.module\";\nimport {StoreModule} from \"@ngrx/store\";\nimport {initChatReducer} from \"./reducers/chat/chat.reducer\";\nimport {initUserReducer} from \"./reducers/user/user.reducer\";\nimport {ChatModule} from \"./components/chat/chat.module\";\nimport {LocalStorageService, NgxWebstorageModule} from \"ngx-webstorage\";\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    NotFoundComponent,\n    HomeComponent\n  ],\n  imports: [\n    BrowserAnimationsModule,\n    BrowserModule,\n    AppRoutingModule,\n    StoreModule.forRoot({\n      user: initUserReducer,\n      chats: initChatReducer,\n    }, {\n      runtimeChecks: {\n        strictStateImmutability: false,\n        strictActionImmutability: false\n      }\n    }),\n    ButtonModule,\n    NgbTooltipModule,\n    TourGuideViewModule,\n    GridViewModule,\n    ChatViewModule,\n    ChatModule,\n    NgxWebstorageModule.forRoot()\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import {Component, Input, OnInit, Output, EventEmitter} from '@angular/core';\nimport {Colors} from \"../../interfaces/Generics\";\nimport {IButton} from \"../../interfaces/Button\";\nimport IStringMap from \"../../interfaces/StringMap\";\n\n@Component({\n  selector: 'app-button',\n  templateUrl: './button.component.html',\n  styleUrls: ['./button.component.scss']\n})\nexport class ButtonComponent implements OnInit {\n\n  private readonly _availableButtons: IStringMap<Partial<IButton>> = {\n    next: {\n      color: \"primary\",\n      displayName: \"Next\",\n      tooltip: \"Next\",\n      icon: \"la-arrow-right\",\n      iconRightSide: true\n    },\n    prev: {\n      color: \"light border\",\n      displayName: \"Previous\",\n      tooltip: \"Previous\",\n      icon: \"la-arrow-left\"\n    },\n    cancel: {\n      color: \"light border\",\n      displayName: \"Cancel\",\n      tooltip: \"Cancel\"\n    },\n    help: {\n      color: \"info\",\n      displayName: \"Help\",\n      tooltip: \"Help\",\n      icon: \"la-question-circle\"\n    },\n    shortcuts: {\n      color: \"btn-light border\",\n      displayName: \"Shortcuts\",\n      tooltip: \"Shortcuts\",\n      icon: \"la-keyboard-o\"\n    },\n    close: {\n      color: \"btn-light border\",\n      displayName: \"\",\n      icon: \"la-times\"\n    },\n    warning: {\n      color: \"btn-danger\",\n      displayName: \"Warning\",\n      tooltip: \"Warning\",\n      icon: \"la-exclamation-circle\"\n    },\n    view: {\n      color: \"btn-light\",\n      displayName: \"View\",\n      tooltip: \"View\",\n      icon: \"la-eye\"\n    },\n    save: {\n      color: \"success\",\n      displayName: \"Save\",\n      tooltip: \"Save\",\n      icon: \"la-save\",\n    },\n    edit: {\n      color: \"primary\",\n      displayName: \"Edit\",\n      tooltip: \"Edit\",\n      icon: \"la-save\",\n    },\n    delete: {\n      color: \"danger\",\n      displayName: \"Delete\",\n      tooltip: \"Delete\",\n      icon: \"la-trash\"\n    },\n  };\n\n  @Input() displayName: string = null;\n  @Input() icon: string = null;\n  @Input() icons: string[] = null;\n  @Input() class: string = null;\n  @Input() color: Colors|string = null;\n  @Input() disabled: boolean = false;\n  @Input() iconRightSide: boolean = false;\n  @Input() href: string | string[] = null;\n  @Input() queryParams: any;\n  @Input() small: boolean = false;\n  @Input() full: boolean = false;\n  @Input() tooltip: string = null;\n  @Input() target: \"_blank\"|\"_self\"|\"_parent\"|\"_top\"|\"framename\" = \"_self\";\n  @Input(\"action\") set setAction(action: ButtonActions) {\n    this.action = action;\n    this._applyButtonData(this._availableButtons[this.action], true);\n  }\n\n  @Output() btnClick = new EventEmitter();\n\n  public action: ButtonActions = null;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  private _applyButtonData(button: Omit<IButton, \"action\">, force: boolean = false) {\n    if (!button) {\n      return;\n    }\n    if (button.iconRightSide && this.iconRightSide == null || force) {\n      this.iconRightSide = button.iconRightSide;\n    }\n    if (this.displayName === null || (force && this.displayName && button.displayName)) {\n      this.displayName = this.displayName ? this.displayName : button.displayName;\n    }\n    if (this.icon === null || force) {\n      this.icon = this.icon ? this.icon : button.icon;\n    }\n    if (this.color === null || force) {\n      this.color = this.color ? this.color : button.color;\n    }\n    if ((this.tooltip === null && this.displayName === \"\")) {\n      this.tooltip = button.tooltip;\n    }\n  }\n\n}\n\ntype ButtonActions = \"next\"|\"prev\"|\"close\"|\"cancel\"|\"warning\"|\"help\"|\"shortcuts\"|\"view\"|\"save\"|\"edit\"|\"delete\";\n","<button *ngIf=\"href === null\"\n        class=\"btn {{class}} {{color}} btn-{{color}} position-relative {{small? 'btn-sm' : ''}} {{full? 'btn-block' : ''}}\"\n        [class.round]=\"displayName == ''\"\n        type=\"button\"\n        [disabled]=\"disabled\"\n        [ngbTooltip]=\"tooltip\"\n        [container]=\"'body'\"\n        (click)=\"btnClick.emit()\">\n\n  <i class=\"la mr-1 ml-0\" [ngClass]=\"icon\"\n     [class.m-0]=\"displayName == ''\"\n     *ngIf=\"!iconRightSide && !!icon && !(icons?.length)\">\n  </i>\n  <ng-container *ngIf=\"icons?.length\">\n    <i class=\"la\" [ngClass]=\"ic\"\n       *ngFor=\"let ic of icons\"\n       [class.m-0]=\"displayName == ''\">\n    </i>\n  </ng-container>\n  <span>{{displayName}}</span>\n  <i class=\"la mr-0 ml-1\"\n     [ngClass]=\"icon\"\n     *ngIf=\"iconRightSide && !!icon\" [class.m-0]=\"displayName == ''\"></i>\n</button>\n\n\n<a *ngIf=\"href !== null\"\n   class=\"btn {{class}} {{color}} btn-{{color}} position-relative {{small? 'btn-sm' : ''}} {{full? 'btn-block' : ''}}\"\n   [class.disabled]=\"disabled\"\n   [routerLink]=\"href\"\n   [target]=\"target\"\n   [ngbTooltip]=\"tooltip\"\n   [class.round]=\"displayName == ''\"\n   (click)=\"btnClick.emit()\"\n   [queryParams]=\"queryParams\">\n\n  <i class=\"la mr-1\" [ngClass]=\"icon\"\n     [class.m-0]=\"displayName == ''\"\n     *ngIf=\"!iconRightSide && !!icon && !(icons?.length)\">\n  </i>\n  <ng-container *ngIf=\"icons?.length\">\n    <i class=\"la\" [ngClass]=\"ic\"\n       *ngFor=\"let ic of icons\"\n       [class.m-0]=\"displayName == ''\">\n    </i>\n  </ng-container>\n  <span>{{displayName}}</span>\n  <i class=\"la mr-0 ml-1\"\n     [ngClass]=\"icon\"\n     *ngIf=\"iconRightSide && !!icon\" [class.m-0]=\"displayName == ''\"></i>\n</a>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ButtonComponent } from './button.component';\nimport {NgbTooltipModule} from \"@ng-bootstrap/ng-bootstrap\";\nimport {RouterModule} from \"@angular/router\";\n\n\n\n@NgModule({\n  declarations: [ButtonComponent],\n  exports: [\n    ButtonComponent\n  ],\n  imports: [\n    CommonModule,\n    NgbTooltipModule,\n    RouterModule\n  ]\n})\nexport class ButtonModule { }\n","import {AfterViewInit, Component, EventEmitter, Input, OnDestroy, Output, ViewChild} from \"@angular/core\";\nimport {ChatEvents, ChatType, IChat, IChatMessage, IChatUser, StoredChats} from \"../../interfaces/IChat\";\nimport {ChatService} from \"../../services/http/chat.service\";\nimport {skip, take, takeUntil} from \"rxjs/operators\";\nimport {Subject} from \"rxjs\";\nimport {reverse} from \"lodash\";\nimport * as moment from \"moment\";\nimport {ChatBodyComponent} from \"./components/chat-body/chat-body.component\";\nimport {UserFacade} from \"../../reducers/user/user.facade\";\nimport {IUser} from \"../../interfaces/IUser\";\nimport {LocalStorageService} from \"ngx-webstorage\";\nimport IStringMap from \"../../interfaces/StringMap\";\nimport {HelperService} from \"../../services/helper.service\";\nimport {ChatFacade} from \"../../reducers/chat/chat.facade\";\nimport {ChatHelperService} from \"../../services/chat-helper.service\";\nimport {SiteService} from \"../../services/site.service\";\nimport {ChatFooterComponent} from \"./components/chat-footer/chat-footer.component\";\n\n@Component({\n  selector: \"app-chat\",\n  templateUrl: \"./chat.component.html\",\n  styleUrls: [\"./chat.component.scss\"]\n})\nexport class ChatComponent implements AfterViewInit, OnDestroy {\n\n  public readonly defaultDimensions = {\n    heights: {\n      mini: \"380px\",\n      full: \"100%\"\n    },\n    widths: {\n      mini: \"300px\",\n      full: \"100%\"\n    }\n  };\n  public readonly defaultColor = \"bg-primary\";\n\n  @Input(\"topic\") set defaultTopic(topic: string) {\n    if (topic && topic !== this.topic) {\n      this.initChat(topic);\n    }\n  }\n\n  @Input() aspect: \"mini\" | \"full\" = \"mini\";\n\n  @Input() static: boolean = false;\n  @Input() hasSeen: boolean = true;\n  @Input() showNotSeenYet: boolean = false;\n\n  @Output() load = new EventEmitter<IChat>();\n\n  user: IUser;\n  chat: IChat;\n  messages: IChatMessage[] = [];\n  totalMessages: number = 0;\n\n  failedToSend: IChatMessage[] = [];\n  typing: string[] = [];\n\n  topic: string;\n  loading: boolean;\n  loadingMore: boolean;\n  restrictions: boolean;\n\n  private _minimized: boolean = false;\n  private _typingTimeouts: IStringMap<any> = {};\n  private _unsub$: Subject<void> = new Subject<void>();\n  private _unsubUser$: Subject<void> = new Subject<void>();\n\n  @ViewChild(\"body\", {static: false}) body: ChatBodyComponent;\n  @ViewChild(\"footer\", {static: false}) footer: ChatFooterComponent;\n\n  constructor(\n    // public socket: SocketService,\n    private storage: LocalStorageService,\n    private userFacade: UserFacade,\n    private chatFacade: ChatFacade,\n    public chatService: ChatService,\n    public chatHelper: ChatHelperService,\n    public site: SiteService,\n  ) {\n  }\n\n  ngAfterViewInit() {\n    this.userFacade.data.pipe(takeUntil(this._unsubUser$)).subscribe((user: IUser) => {\n      if (user) {\n        this.user = user;\n        if (this.topic && !this.chat) {\n          this.initChat(this.topic);\n        }\n      }\n    });\n\n    this._subscribeToEvents();\n    // this.socket.chatEventChanges$.pipe(takeUntil(this._unsub$)).subscribe(() => {\n    //     this._subscribeToEvents();\n    // });\n  }\n\n  ngOnDestroy(): void {\n    this._unsub$.next();\n    this._unsubUser$.next();\n    if (this.static) {\n      if (this.static) {\n        const active = this.storage.retrieve(StoredChats) || [];\n        const chatIndex = active.findIndex(c => c.topic === this.topic);\n        if (chatIndex !== -1) {\n          active.splice(chatIndex, 1);\n          this.storage.store(StoredChats, active);\n        }\n      }\n    }\n  }\n\n  // ? non socket method\n  private _subscribeToEvents() {\n    this._unsub$.next();\n    this.chatFacade.event.pipe(takeUntil(this._unsub$)).subscribe(event => {\n      if (!event) {\n        return;\n      }\n      switch (event.event) {\n        case \"newMessage$\":\n          this._handleNewMessage(event.message);\n          break;\n        case \"updatedMessage$\":\n          this._handleExistingMessage(event.message);\n          break;\n        case \"peopleJoined$\":\n          if (this.topic === event.topic) {\n            this._addNewPeople(event.people);\n          }\n          break;\n        case \"updatedChat$\":\n          this._updateChat(event.chat);\n          break;\n      }\n    });\n  }\n\n  // ? socket method\n  // private _subscribeToEvents() {\n  //     this._unsub$.next();\n  //     this.socket.chatEvents.newMessage$?.pipe(takeUntil(this._unsub$)).subscribe(this._handleNewMessage.bind(this));\n  //     this.socket.chatEvents.updatedMessage$?.pipe(takeUntil(this._unsub$)).subscribe(this._handleExistingMessage.bind(this));\n  //     this.socket.chatEvents.messagesSeen$?.pipe(takeUntil(this._unsub$)).subscribe(this._handleMessagesSeen.bind(this));\n  //     this.socket.chatEvents.updatedChat$?.pipe(takeUntil(this._unsub$)).subscribe(this._updateChat.bind(this));\n  //     this.socket.chatEvents.userLeft$?.pipe(takeUntil(this._unsub$)).subscribe(evt => {\n  //         if (evt.topic === this.topic) {\n  //             let sub = this.chat.subscribers.find(s => (s.user?._id || s.user) === this.user);\n  //             if (sub) {\n  //                 sub.active = false;\n  //             }\n  //         }\n  //     });\n  //     this.socket.chatEvents.peopleJoined$?.pipe(takeUntil(this._unsub$)).subscribe(evt => {\n  //         if (this.topic === evt.topic) {\n  //             this._addNewPeople(evt.people);\n  //         }\n  //     });\n  //     this.socket.chatEvents.typing$?.pipe(takeUntil(this._unsub$)).subscribe(evt => {\n  //         if (this.topic === evt.topic) {\n  //             this._addTypingUser(evt.user);\n  //         }\n  //     });\n  // }\n\n  private _handleNewMessage(message: IChatMessage) {\n    if (this.topic !== message?.topic || !(this.currentSub?.active || this.static)) {\n      return;\n    }\n    this.messages = [...this.messages, message];\n    this.totalMessages++;\n    setTimeout(() => this.body?.scrollToBottom(message.sender === this.user?._id));\n\n    let userIndex = this.typing.indexOf(message.sender);\n    if (userIndex !== -1) {\n      clearTimeout(this._typingTimeouts[message.sender]);\n      this.typing.splice(userIndex, 1);\n    }\n    if (message.sender !== this.user?._id) {\n      this.chatFacade.unseen(this.topic, message);\n    }\n  }\n\n  private _handleExistingMessage(message: IChatMessage) {\n    if (this.topic !== message.topic || !(this.currentSub?.active || this.static)) {\n      return;\n    }\n    const messageIndex = this.messages.findIndex(m => m._id === message._id);\n    if (messageIndex !== -1) {\n      this.messages.splice(messageIndex, 1);\n      this.messages = HelperService.arrayInsert(this.messages, messageIndex, message);\n    }\n  }\n\n  private _handleMessagesSeen(data: { topic: string, userId: string, messageIds: string[] }) {\n    if (!this.hasSeen || this.topic !== data.topic) {\n      return;\n    }\n    this.messages = this.messages.map(message => {\n      if (data.messageIds.includes(message._id) && !message.seen?.find(u => (u.user?._id || u.user) === data.userId)) {\n        message.seen?.push({\n          user: data.userId,\n          date: new Date()\n        });\n\n        message.viewSeen?.push({\n          date: new Date(),\n          notYet: false,\n          user: data.userId\n        });\n      }\n      return message;\n    });\n    this.chatFacade.seen(this.topic);\n  }\n\n  private _updateChat(chat: IChat) {\n    if (this.topic !== chat.topic) {\n      return;\n    }\n\n    if (!this.chat) {\n      this.chat = chat;\n    } else {\n      this.chat.name = chat.name;\n      this.chat.options = {...(chat.options || {})};\n    }\n    this.load.emit(this.chat);\n  }\n\n  private _addNewPeople(people: (string | IUser | any)[] = []) {\n    let subUsers = this.chat?.subscribers.map(s => s.user?._id || s.user) || [];\n    people.forEach(person => {\n      let idx = subUsers.indexOf(person._id || person);\n      if (idx !== -1) {\n        this.chat.subscribers[idx].active = true;\n      } else {\n        this.chat?.subscribers.push({\n          active: true,\n          user: person\n        });\n      }\n    });\n\n    this.body?.recalculateSeen();\n  }\n\n  private _addTypingUser(user: string) {\n    if (!user) {\n      return;\n    }\n    let userIndex = this.typing.indexOf(user);\n    if (userIndex === -1) {\n      this.typing.push(user);\n    }\n    clearTimeout(this._typingTimeouts[user]);\n    this._typingTimeouts[user] = setTimeout(() => {\n      userIndex = this.typing.indexOf(user);\n      if (userIndex !== -1) {\n        this.typing.splice(userIndex, 1);\n      }\n    }, 2000);\n\n    this.body?.scrollToBottom(false);\n  }\n\n  public async initChat(topic: string) {\n    this.topic = topic || this.topic;\n    if (!this.user?._id) {\n      return;\n    }\n    this.loading = true;\n    let chatRes = await this.chatService.findChat(topic, this.static).toPromise();\n\n    this.chat = chatRes.chat;\n    this.topic = this.chat.topic;\n\n    await HelperService.sleep(500);\n    this.getMessages(this.topic);\n    if (this.static) {\n      const active = this.storage.retrieve(StoredChats) || [];\n      const chatIndex = active.findIndex(c => c.topic === this.topic);\n      if (chatIndex !== -1) {\n        active[chatIndex].static = true;\n      } else {\n        active.push({topic: this.topic, static: true});\n      }\n      this.storage.store(StoredChats, active);\n    }\n\n    this.chatFacade.data.pipe(take(1)).subscribe((chats: IChat[]) => {\n      if (!chats.find(c => c.topic === this.topic)) {\n        this.chatFacade.loadChats([this.chat]);\n      }\n    });\n\n    this.load.emit(this.chat);\n    this.loading = false;\n  }\n\n  public async getMessages(topic) {\n    let messageRes = await this.chatService.getMessages(topic, null).toPromise();\n\n      if (this.static) {\n        this.messages = reverse(messageRes);\n        // If the user belongs into the active subscribers of the chat\n        if (this.chat.subscribers.some(sub => (sub.user._id || sub.user) === this.user._id && sub.active)) {\n          // Gathering all messages that are not seen by this user\n          this.markAsSeen();\n        }\n      } else {\n        this.messages = reverse(\n          messageRes\n            .filter(m => moment(m.createdAt)\n              .isSameOrAfter(moment(this.currentSub?.joinedAt)))\n        );\n      }\n      this.chatFacade.seen(this.topic);\n      for (let msg of this.messages) {\n        if (msg.deleted || (msg.sender?._id || msg.sender) === this.user?._id) {\n          continue;\n        }\n        if (!msg.seen?.find(u => (u.user?._id || u.user) === this.user?._id)) {\n          this.chatFacade.unseen(msg.topic, msg);\n        }\n      }\n      this.totalMessages = this.messages?.length;\n      setTimeout(() => this.body?.scrollToBottom());\n      this.loading = false;\n  }\n\n  public async joinChat() {\n    if (this.user && !this.currentSub?.active) {\n      await this.chatService.invite(this.topic, [this.user._id]).toPromise();\n      if (this.currentSub) {\n        this.currentSub.active = true;\n      } else {\n        this.chat.subscribers.push({\n          active: true,\n          user: this.user\n        });\n      }\n      this.markAsSeen();\n    }\n  }\n\n  public sendMessage(msg: Partial<IChatMessage>) {\n    let message: IChatMessage = {\n      sender: this.user._id,\n      topic: this.topic,\n      ...msg\n    };\n    this.chatService.sendMessage(message).subscribe(res => {});\n  }\n\n  public updateMessage(_id: string, options: any) {\n    console.log(_id);\n    this.chatService.updateMessage(_id, options).subscribe(res => {\n    });\n  }\n\n  public startedTyping() {\n    // this.socket.emit(ChatEvents.StartedTyping, {topic: this.topic, user: this.user?._id, socket: this.socket.id});\n  }\n\n  public loadMoreMessages() {\n    if (this.loading || this.loadingMore) {\n      return;\n    }\n    this.loadingMore = true;\n    if (!this.messages) {\n      this.messages = [];\n    }\n    const before = this.messages[0]?.createdAt;\n    this.chatService.getMessages(this.topic, <string>before).subscribe(res => {\n      if (res) {\n        this.body.scrollToMessage(res.length);\n        setTimeout(() => {\n          let newMessages = reverse(res);\n          if (this.static) {\n            newMessages.filter(m => moment(m.createdAt)\n              .isSameOrAfter(moment(this.currentSub?.joinedAt)));\n          }\n          this.messages.unshift(\n            ...newMessages\n          );\n          if (!newMessages.length) {\n            this.totalMessages = this.messages.length;\n          } else if (!before) {\n            // this.totalMessages = res.get().total;\n          }\n          this.markAsSeen();\n          this.loadingMore = false;\n        });\n      } else {\n        this.loadingMore = false;\n      }\n    });\n  }\n\n  public minimizeToggle() {\n    if (this.aspect === \"full\") {\n      this._minimized = false;\n      return;\n    }\n    this._minimized = !this._minimized;\n  }\n\n  public onFocusText() {\n    this.markAsSeen();\n  }\n\n  public closeChat() {\n    let chatRooms = this.storage.retrieve(StoredChats) || [];\n    let currentIndex = chatRooms.findIndex(chat => chat.topic === this.chat?.topic);\n    if (currentIndex !== -1) {\n      chatRooms.splice(currentIndex, 1);\n    }\n    this.storage.store(StoredChats, [...chatRooms]);\n  }\n\n  public markAsSeen() {\n    const unseenMessages = this.messages.filter(message => !this.chatHelper.messageSeenBy(message, this.user._id));\n    if (unseenMessages.length) {\n      this.chatService.markAsSeen(this.topic, unseenMessages.map(m => m._id)).subscribe();\n      this.chatFacade.seen(this.topic);\n    }\n  }\n\n  get isMinimized() {\n    return this._minimized;\n  }\n\n  get currentSub(): IChatUser {\n    if (!this.user?._id) {\n      return null;\n    }\n    return this.chat?.subscribers?.find(s => this.user._id === (s.user?._id || s.user));\n  }\n\n}\n","<div class=\"chat-simple p-0 border-radius-top shadow\" #chatContainer\n     [ngStyle]=\"{height: isMinimized ? null : defaultDimensions.heights[aspect], width: defaultDimensions.widths[aspect]}\"\n     *ngIf=\"chat\">\n\n    <app-chat-header (minimize)=\"minimizeToggle()\" #header\n                     [restrictions]=\"restrictions\"\n                     (close)=\"closeChat()\"\n                     (tryToJoin)=\"joinChat()\"\n                     [static]=\"static\"\n                     [unseenMessages]=\"messages | unseenMessages:chat\"\n                     [self]=\"user?._id\"\n                     [aspect]=\"aspect\"\n                     [color]=\"chat.options?.color || defaultColor\"\n                     [chat]=\"chat\">\n    </app-chat-header>\n\n    <app-chat-body #body\n                   [restrictions]=\"restrictions\"\n                   [loading]=\"loading\"\n                   (loadMore)=\"loadMoreMessages()\"\n                   (updateMessage)=\"updateMessage($event.messageId, $event.options)\"\n                   [hidden]=\"isMinimized\"\n                   [hasSeen]=\"hasSeen\"\n                   [height]=\"chatContainer.offsetHeight - (header.header?.nativeElement.offsetHeight + footer.footer?.nativeElement.offsetHeight)\"\n                   [chat]=\"chat\"\n                   [static]=\"static\"\n                   [color]=\"chat.options?.color || defaultColor\"\n                   [self]=\"user?._id\"\n                   [showNotSeenYet]=\"showNotSeenYet\"\n                   [superUser]=\"site.amISuperUser()\"\n                   [totalMessages]=\"totalMessages\"\n                   [typing]=\"typing\"\n                   [messages]=\"messages\">\n    </app-chat-body>\n\n    <app-chat-footer [hidden]=\"isMinimized || !currentSub?.active\" #footer\n                     [chat]=\"chat\"\n                     [self]=\"user?._id\"\n                     [width]=\"chatContainer.offsetWidth\"\n                     (focusText)=\"onFocusText()\"\n                     (startedTyping)=\"startedTyping()\"\n                     (send)=\"sendMessage($event)\">\n    </app-chat-footer>\n</div>\n","import {NgModule} from \"@angular/core\";\nimport {CommonModule} from \"@angular/common\";\nimport {ChatComponent} from \"./chat.component\";\nimport {ChatHeaderComponent} from \"./components/chat-header/chat-header.component\";\nimport {ChatFooterComponent} from \"./components/chat-footer/chat-footer.component\";\nimport {ChatBodyComponent} from \"./components/chat-body/chat-body.component\";\nimport {UserInfoModule} from \"../user-info/user-info.module\";\nimport {ButtonModule} from \"../button/button.module\";\nimport {LoaderModule} from \"../loader/loader.module\";\nimport {ModalModule} from \"../modal/modal.module\";\nimport {NgPipesModule} from \"ngx-pipes\";\nimport {ChatContainerComponent} from \"./components/chat-container/chat-container.component\";\nimport {NgbDropdownModule, NgbTooltipModule} from \"@ng-bootstrap/ng-bootstrap\";\nimport {ChatFacade} from \"../../reducers/chat/chat.facade\";\nimport {FullChatContainerComponent} from \"./components/full-chat-container/full-chat-container.component\";\nimport {RouterModule, Routes} from \"@angular/router\";\nimport {ChatMessageSeenComponent} from \"./components/chat-message-seen/chat-message-seen.component\";\nimport {MessageHasSeenPipe} from \"./pipes/message-has-seen.pipe\";\nimport {MomentModule} from \"ngx-moment\";\nimport {UnseenMessagesPipe} from './pipes/unseen-messages.pipe';\nimport {GravatarImageModule} from \"../gravatar-image/gravatar-image.module\";\nimport {ChatListComponent} from './components/chat-list/chat-list.component';\nimport {PipesModule} from \"../../pipes/pipes.module\";\nimport {FormsModule} from \"@angular/forms\";\n\nconst routes: Routes = [\n    {\n        path: \"topic/:topic\",\n        component: FullChatContainerComponent,\n        data: {\n            breadcrumb: \"Topics\",\n        }\n    }\n];\n\n\n@NgModule({\n    declarations: [\n        ChatComponent,\n        ChatHeaderComponent,\n        ChatFooterComponent,\n        ChatBodyComponent,\n        ChatContainerComponent,\n        FullChatContainerComponent,\n        ChatMessageSeenComponent,\n        MessageHasSeenPipe,\n        UnseenMessagesPipe,\n        ChatListComponent\n    ],\n  imports: [\n    CommonModule,\n    UserInfoModule,\n    ButtonModule,\n    RouterModule.forChild(routes),\n    LoaderModule,\n    ModalModule,\n    NgPipesModule,\n    NgbDropdownModule,\n    NgbTooltipModule,\n    MomentModule,\n    GravatarImageModule,\n    UserInfoModule,\n    PipesModule,\n    FormsModule\n  ],\n    exports: [\n        ChatComponent,\n        ChatContainerComponent,\n        ChatListComponent\n    ],\n    providers: [\n        ChatFacade\n    ]\n})\nexport class ChatModule {\n}\n","import {Component, ElementRef, EventEmitter, Input, Output, ViewChild} from \"@angular/core\";\nimport {IChat, IChatMessage} from \"../../../../interfaces/IChat\";\nimport {NavigationService} from \"../../../../services/navigation/navigation.service\";\nimport {ChatHelperService} from \"../../../../services/chat-helper.service\";\nimport {IUser} from \"../../../../interfaces/IUser\";\nimport {uniqBy} from \"lodash\";\n\n@Component({\n    selector: \"app-chat-body\",\n    templateUrl: \"./chat-body.component.html\",\n    styleUrls: [\"./chat-body.component.scss\"]\n})\nexport class ChatBodyComponent {\n\n    @Input() chat: IChat;\n\n    @Input(\"messages\") set setMessages(messages: IChatMessage[]) {\n        if (this.hasSeen) {\n            this.messages = messages.map(message => {\n                const subs = this.chat.subscribers\n                    .filter(sub => !this.chatHelper.messageSeenBy(message, (sub.user?._id || sub.user)) && sub.active)\n                    .map(sub => ({user: sub.user, date: null, notYet: true}));\n\n                message.viewSeen = uniqBy([\n                    ...(message.seen || []).map(seen => ({...seen, notYet: false})),\n                    ...subs\n                ], (seen) => {\n                    return seen.user?._id || seen.user;\n                });\n                return message;\n            });\n        } else {\n            this.messages = messages;\n        }\n\n    }\n\n    public messages: IChatMessage[];\n\n    @Input() totalMessages: number = 0;\n\n    @Input() self: string;\n    @Input() superUser: boolean;\n    @Input() typing: string[] = [];\n    @Input() color: string = \"primary\";\n    @Input() height: number;\n    @Input() static: boolean;\n    @Input() loading: boolean;\n\n    @Input() hasSeen: boolean = false;\n    @Input() showNotSeenYet: boolean = false;\n    @Input() restrictions: boolean = false;\n\n    @Output() invite = new EventEmitter<string[]>();\n    @Output() loadMore = new EventEmitter<void>();\n    @Output() updateMessage = new EventEmitter<{ messageId: string, options: any }>();\n\n    @ViewChild(\"body\", {static: false}) body: ElementRef;\n    @ViewChild(\"messageContainer\", {static: false}) messageContainer: ElementRef;\n\n    constructor(\n        private navigation: NavigationService,\n        public chatHelper: ChatHelperService\n    ) {\n    }\n\n    isMine(sender: any) {\n        return this.self === (sender?._id || sender);\n    }\n\n    isConsequent(sender: any, sender2: any) {\n        sender = (sender?._id || sender);\n        sender2 = (sender2?._id || sender2);\n        return sender && sender === sender2;\n    }\n\n    scrollToBottom(force: boolean = true) {\n        if (force || this.messageContainer?.nativeElement.scrollHeight - this.body?.nativeElement.scrollTop < 600) {\n            this.navigation.scrollTo({\n                container: this.body,\n                offset: this.messageContainer?.nativeElement.offsetHeight,\n                duration: null\n            });\n        }\n    }\n\n    scrollToMessage(index: number) {\n        this.navigation.scrollTo({\n            container: this.body,\n            target: `#${this.chat.topic}-msg-${index}`,\n            duration: null\n        });\n\n    }\n\n    loadMoreMessages() {\n        if (this.body?.nativeElement.scrollTop > 5 || this.messages?.length >= this.totalMessages) {\n            return;\n        }\n\n        this.loadMore.emit();\n    }\n\n    handleActionEvent(messageId: string, type: string, event?: any, receiver?: string | any | IUser) {\n        switch (type) {\n            case \"complete\":\n                this._handleActionCompletion(messageId);\n                break;\n            case \"cancel\":\n                this._handleActionCancelation(messageId);\n                break;\n            case \"result\":\n                if (event?.user) {\n                    // this.updateMessage.emit({messageId, options: {[`action.results.${event.user}`]: event.result}});\n                }\n        }\n    }\n\n    private async _handleActionCompletion(messageId: string) {\n        const msg = this.messages.find(m => m._id === messageId);\n        if (!(msg?.action)) {\n            return;\n        }\n\n        // this.updateMessage.emit({messageId: msg._id, options: {\"action.status\": \"completed\"}});\n    }\n\n    private async _handleActionCancelation(messageId: string) {\n        const msg = this.messages.find(m => m._id === messageId);\n        if (!(msg?.action)) {\n            return;\n        }\n\n      // this.updateMessage.emit({messageId, options: {\"action.status\": \"canceled\"}});\n    }\n\n    deleteMessage(message: IChatMessage) {\n      this.updateMessage.emit({messageId: message._id, options: {deleted: true}});\n    }\n\n    public recalculateSeen() {\n        this.setMessages = [...this.messages];\n    }\n\n}\n","<div class=\"chat-body bg-light position-relative container-fluid custom-scroller px-0 font-size-14\" #body\n     [ngStyle]=\"{height: height ? height + 'px' : '80%'}\"\n     (scroll)=\"loadMoreMessages()\">\n    <app-loader [loading]=\"loading\" type=\"square-loader\" color=\"lightblue\"></app-loader>\n    <div class=\"row pointer bg-lightgrey\" *ngIf=\"messages?.length < totalMessages\" (click)=\"loadMoreMessages()\">\n        <div class=\"col font-weight-bold text-center text-secondary\">\n            <i class=\"la la-redo-alt mr-1\"></i>\n            <span>Load more messages...</span>\n        </div>\n    </div>\n    <div class=\"row m-0 p-0\">\n        <div class=\"col-12 m-0 p-0\">\n            <ul class=\"list-unstyled p-3 pl-4 m-0\" #messageContainer>\n                <li *ngFor=\"let message of messages; let i = index; let l = last; let f = first\"\n                    id=\"{{message.topic}}-msg-{{i}}\">\n                    <div class=\"row\"\n                         *ngIf=\"message.sender && !(restrictions && message.automated)\"\n                         [class.pt-1]=\"isConsequent(messages[i - 1]?.sender, message.sender)\"\n                         [class.pt-3]=\"!isConsequent(messages[i - 1]?.sender, message.sender) && !f\">\n                        <div class=\"col-1 d-flex px-1 align-items-end text-right\"\n                             [class.font-weight-bold]=\"static\">\n                            <ng-container\n                                *ngIf=\"!isMine(message.sender) && !isConsequent(message.sender, messages[i + 1]?.sender)\">\n                                <app-user-info [user]=\"message.sender\"\n                                               *ngIf=\"!restrictions; else alias\"\n                                               [showGravatar]=\"true\"\n                                               [isChattable]=\"false\"\n                                               [hideName]=\"!static\">\n                                </app-user-info>\n                                <ng-template #alias>\n                                    <i class=\"la la-headset shadow-sm mr-1 p-1 font-weight-bold rounded-circle border-primary table-primary border\"\n                                       title=\"Support\">\n                                    </i>\n                                    <span class=\"font-weight-bold\" *ngIf=\"static\">Support</span>\n                                </ng-template>\n                            </ng-container>\n                        </div>\n                        <div class=\"col-10 p-0 d-flex chat-bubble-container\"\n                             [class.justify-content-end]=\"isMine(message.sender)\"\n                             [class.offset-1]=\"isMine(message.sender)\">\n\n                            <ng-container *ngIf=\"!message.deleted; else deletedMessage\">\n                                <div class=\"chat-bubble-options align-self-center\" *ngIf=\"isMine(message.sender)\">\n                                    <i class=\"la la-trash pointer ml-2 chat-bubble-option\"\n                                       title=\"Delete message\"\n                                       (click)=\"deleteMessage(message)\">\n                                    </i>\n                                </div>\n                                <div\n                                    class=\"mx-2 chat-bubble text-break d-inline-block {{isMine(message.sender) ? color : 'bg-white'}} px-2 py-1\"\n                                    title=\"{{message.createdAt|date: 'mediumDate'}} {{message.createdAt|date: 'shortTime'}}\"\n                                    [ngClass]=\"{\n                                        'mine': isMine(message.sender),\n                                        'not-mine': !isMine(message.sender),\n                                        'last': !isConsequent(message.sender, messages[i + 1]?.sender) || (messages[i + 1]?.automated && false),\n                                        'first': !isConsequent(messages[i - 1]?.sender, message.sender) || (messages[i - 1]?.automated && false)\n                                    }\"\n                                    [class.text-white]=\"isMine(message.sender)\">\n                                    <div class=\"d-inline-block text-white p-1 border-radius bg-secondary mr-2\"\n                                         *ngIf=\"message.receiver\">\n                                        <span class=\"mr-1\">To:</span>\n                                        <app-user-info [user]=\"message.receiver\" [isChattable]=\"false\"></app-user-info>\n                                    </div>\n                                    <ng-container *ngIf=\"message.automated\">\n                                        <i class=\"la la-robot font-weight-bold mr-1\"></i>\n                                        <span class=\"font-weight-bold\">[Automated message]:</span>\n                                        <br>\n                                    </ng-container>\n\n                                    <span [innerHTML]=\"message.content|activateUrls\"></span>\n                                    <br>\n                                    <small class=\"float-right font-italic font-weight-bold\">\n                                        {{message.createdAt|date: 'mediumDate'}} {{message.createdAt|date: 'shortTime'}}\n                                    </small>\n\n                                    <ng-container *ngIf=\"chatHelper.isActionLegal(message.action)\">\n                                        <hr class=\"my-1 bg-lightgrey\" *ngIf=\"message.content\">\n                                        <br *ngIf=\"!message.content\">\n<!--                                        <app-chat-message-action [creator]=\"message.sender?._id || message.sender\"-->\n<!--                                                                 [showAction]=\"!message.receiver || isMine(message.receiver)\"-->\n<!--                                                                 (cancel)=\"handleActionEvent(message._id, 'cancel')\"-->\n<!--                                                                 (complete)=\"handleActionEvent(message._id, 'complete')\"-->\n<!--                                                                 (result)=\"handleActionEvent(message._id, 'result', $event, message.receiver)\"-->\n<!--                                                                 [id]=\"message._id\"-->\n<!--                                                                 [chat]=\"chat\"-->\n<!--                                                                 [action]=\"message.action\">-->\n<!--                                        </app-chat-message-action>-->\n                                    </ng-container>\n                                </div>\n                            </ng-container>\n                            <ng-template #deletedMessage>\n                                <i class=\"la la-eye pointer ml-2 align-self-center\"\n                                   title=\"show delete message\"\n                                   (click)=\"message.deleted = false\"\n                                   *ngIf=\"superUser && isMine(message.sender)\">\n                                </i>\n                                <div [ngClass]=\"{\n                                        'mine': isMine(message.sender),\n                                        'not-mine': !isMine(message.sender),\n                                        'last': !isConsequent(message.sender, messages[i + 1]?.sender) || (messages[i + 1]?.automated && false),\n                                        'first': !isConsequent(messages[i - 1]?.sender, message.sender) || (messages[i - 1]?.automated && false)\n                                    }\"\n                                     class=\"mx-2 chat-bubble border text-black font-italic text-break shadow-sm d-inline-block px-2 py-1\"\n                                     title=\"{{message.createdAt|date: 'mediumDate'}} {{message.createdAt|date: 'shortTime'}}\">\n                                    <app-user-info [user]=\"message.sender\" [isChattable]=\"false\" *ngIf=\"!restrictions\"></app-user-info>\n                                    <span *ngIf=\"restrictions\">Support</span>\n                                    <span class=\"ml-1\">deleted this message.</span>\n                                </div>\n                                <i class=\"la la-eye pointer mr-2 align-self-center\"\n                                   title=\"show deleted message\"\n                                   (click)=\"message.deleted = false\"\n                                   *ngIf=\"superUser && !isMine(message.sender)\">\n                                </i>\n                            </ng-template>\n                        </div>\n                    </div>\n                    <div class=\"row\" *ngIf=\"hasSeen && !restrictions\">\n                        <div class=\"col-12 d-flex px-1 justify-content-end\">\n                            <app-chat-message-seen [messageSeen]=\"message.viewSeen | messageSeen:messages:i\"\n                                                   [showNotYet]=\"[false, showNotSeenYet]\">\n                            </app-chat-message-seen>\n                        </div>\n                    </div>\n                </li>\n                <li *ngIf=\"typing?.length && !restrictions\">\n                    <div class=\"row pt-3\">\n                        <div class=\"col p-0 align-self-end text-left\">\n                            <ng-container *ngFor=\"let user of typing; let i = index\">\n                                <app-user-info [user]=\"user\"\n                                               *ngIf=\"i < 3\"\n                                               [showGravatar]=\"true\"\n                                               [isChattable]=\"false\"\n                                               [hideName]=\"true\">\n                                </app-user-info>\n                            </ng-container>\n\n                            <span class=\"font-weight-bold\"\n                                  *ngIf=\"typing.length > 3\">+{{typing.length - 3}}\n                                more people\n                            </span>\n                            <span class=\"font-weight-bold\">{{typing.length === 1 ? 'is' : 'are'}} typing...</span>\n                        </div>\n                    </div>\n                </li>\n            </ul>\n        </div>\n    </div>\n</div>\n\n","import {AfterContentInit, Component, Input, OnDestroy, QueryList, ViewChildren} from '@angular/core';\nimport {LocalStorageService} from \"ngx-webstorage\";\nimport {StoredChats} from \"../../../../interfaces/IChat\";\nimport {takeUntil} from \"rxjs/operators\";\nimport {Subject} from \"rxjs\";\nimport {NgbDropdownConfig} from \"@ng-bootstrap/ng-bootstrap\";\nimport {ChatComponent} from \"../../chat.component\";\nimport {SiteService} from \"../../../../services/site.service\";\n\n@Component({\n    selector: 'app-chat-container',\n    templateUrl: './chat-container.component.html',\n    styleUrls: ['./chat-container.component.scss']\n})\nexport class ChatContainerComponent implements AfterContentInit, OnDestroy {\n\n    private readonly maxDefault = 5;\n\n    @Input() set maxVisible (num: number) {\n        if (num < 1 || num > this.maxDefault) {\n            return;\n        }\n        this.maxChats = num;\n        this._calcMaxVisible();\n    }\n\n    public activeChats = [];\n\n    public maxChats: number = 3;\n\n    private _unsub$: Subject<void> = new Subject<void>();\n\n    @ViewChildren(\"chat\") chats: QueryList<ChatComponent>;\n\n    constructor(\n        private storage: LocalStorageService,\n        public site: SiteService,\n        public config: NgbDropdownConfig\n    ) {\n    }\n\n    ngAfterContentInit(): void {\n        this.activeChats = (this.storage.retrieve(StoredChats) || []).filter(chat => !chat.static);\n        this._calcMaxVisible();\n\n        this.storage.observe(StoredChats).pipe(takeUntil(this._unsub$)).subscribe((rooms: any) => {\n            this._calcMaxVisible();\n            this.activeChats = (rooms || []).filter(chat => !chat.static).map((chat, i) => {\n                if (chat.newMessage && i < this.maxChats) {\n                    delete chat.newMessage;\n                }\n                return chat;\n            });\n        });\n    }\n\n    ngOnDestroy(): void {\n        this._unsub$.next();\n    }\n\n    private _calcMaxVisible() {\n        let maxChats = Math.max(Math.floor((document.documentElement.offsetWidth - 50) / 300), 1);\n        this.maxChats = Math.min(this.maxDefault, isNaN(maxChats) ? 1 : maxChats);\n    }\n\n    showChat(index: number) {\n        this.activeChats.unshift(...this.activeChats.splice(index, 1));\n        this.markAsRead(index);\n        this._calcMaxVisible();\n        setTimeout(() => this.chats?.toArray()[0]?.body?.scrollToBottom(true));\n    }\n\n    closeChat(evt, index: number) {\n        evt.stopPropagation();\n        this.chats?.toArray()[index]?.closeChat();\n    }\n\n    markAsRead(index: number) {\n        if (this.activeChats[index]?.newMessage) {\n            delete this.activeChats[index].newMessage;\n        }\n    }\n}\n","<div class=\"d-flex align-items-end position-fixed chat-container\" *ngIf=\"site.showChatContainer.getValue()\">\n    <div class=\"d-inline-block pointer p-1 more-chats border-radius-top bg-lightgrey text-center\"\n         ngbDropdown placement=\"top-left\"\n         *ngIf=\"activeChats.length > maxChats\">\n        <button class=\"btn p-0\" ngbDropdownToggle>\n            <i class=\"la la-comments\"></i>\n        </button>\n        <div ngbDropdownMenu>\n            <ul class=\"list-unstyled m-0 list-menu\">\n                <li class=\"dropdown-item\"\n                    [class.font-weight-bold]=\"chat.newMessage\"\n                    (click)=\"showChat(i)\"\n                    [hidden]=\"i < maxChats\" ngbDropdownItem *ngFor=\"let chat of activeChats; let i = index\">\n                    <i class=\"mr-1 la la-times-circle\" (click)=\"closeChat($event, i)\"></i>\n                    <span class=\"mr-2\">{{chat.name || chat.topic?.split('-')[1]}}</span>\n                    <ng-container *ngIf=\"chat.subs?.length\">\n                      <ng-container *ngFor=\"let sub of chat.subs; let l = last\">\n                        <app-user-info *ngIf=\"!l\"\n                                       [showGravatar]=\"true\"\n                                       [hideName]=\"true\"\n                                       [isChattable]=\"false\"\n                                       [user]=\"sub\">\n                        </app-user-info>\n                      </ng-container>\n                        <span class=\"ml-1\"\n                              *ngIf=\"chat.subs[chat.subs.length - 1] - chat.subs.length >= 0\">\n                            +{{chat.subs[chat.subs.length - 1] - chat.subs.length + 1}} more\n                        </span>\n                    </ng-container>\n                </li>\n            </ul>\n        </div>\n\n    </div>\n    <div class=\"d-inline-block ml-2\" *ngFor=\"let chat of activeChats; let i = index\">\n        <app-chat [hidden]=\"i >= maxChats\"\n                  (click)=\"markAsRead(i)\"\n                  [topic]=\"chat.topic\"\n                  #chat>\n        </app-chat>\n    </div>\n</div>\n","import {Component, ElementRef, EventEmitter, Input, Output, ViewChild} from '@angular/core';\nimport {IChat, IChatMessage} from \"../../../../interfaces/IChat\";\nimport {ChatHelperService} from \"../../../../services/chat-helper.service\";\nimport {SiteService} from \"../../../../services/site.service\";\n\n@Component({\n    selector: 'app-chat-footer',\n    templateUrl: './chat-footer.component.html',\n    styleUrls: ['./chat-footer.component.scss']\n})\nexport class ChatFooterComponent {\n\n    @Input() chat: IChat;\n    @Input() width: number = 300;\n    @Input() aspect: \"mini\" | \"full\" = \"mini\";\n    @Input() self: string;\n\n\n    @Output() send: EventEmitter<Partial<IChatMessage>> = new EventEmitter<Partial<IChatMessage>>();\n    @Output() startedTyping = new EventEmitter();\n    @Output() focusText = new EventEmitter();\n\n    public message: string;\n    public visibleMenu: boolean;\n\n    private _cols: number = 29;\n\n    @ViewChild(\"footer\", {static: false}) footer: ElementRef;\n    @ViewChild(\"textContainer\", {static: false}) textContainer: ElementRef;\n\n    constructor(\n        public chatHelper: ChatHelperService,\n        public site: SiteService\n    ) {\n    }\n\n    public get rows() {\n        const rows = this.message\n            ? Math.ceil((Math.max(this.message.split(\"\\n\").length * this.cols, this.message.length)) / this.cols)\n            : 1;\n        const maxRows = this.visibleMenu ? 3 : 5;\n        return rows > maxRows ? maxRows : rows;\n    }\n\n    public get cols() {\n        return this._cols;\n    }\n\n    public sendMessage(evt?: KeyboardEvent) {\n        this._cols = Math.floor(this.textContainer?.nativeElement.offsetWidth / 8 || 29);\n        if (evt && (evt.key !== \"Enter\" || evt.shiftKey)) {\n            this.startedTyping.emit();\n            return;\n        }\n\n        evt?.preventDefault();\n\n        // if (this.chat.activeAction?.message) {\n        //     this.message = this.chat.activeAction.message;\n        // }\n        // if (!(this.message?.trim()?.length || this.chatHelper.isActionLegal(this.chat.activeAction))) {\n        //     return;\n        // }\n\n        let msg: Partial<IChatMessage> = {\n            content: this.message?.trim(),\n        };\n        if (!msg.content?.length) {\n          return;\n        }\n        // if (this.chatHelper.isActionLegal(this.chat.activeAction)) {\n        //     if (this.chat.activeAction.receiver) {\n        //         msg.receiver = this.chat.activeAction.receiver;\n        //         delete this.chat.activeAction.receiver;\n        //     }\n        //     msg.action = {\n        //         ...cloneDeep(this.chat.activeAction),\n        //         type: this.chat.activeAction.type?._id || this.chat.activeAction.type\n        //     };\n        //     if (msg.action.data?.multiChoiceOptions?.length) {\n        //         msg.action.data.multiChoiceOptions = msg.action.data.multiChoiceOptions.map((c: any) => {\n        //             if (!c?.content) {\n        //                 return c?.name;\n        //             }\n        //             return c;\n        //         });\n        //     }\n        //\n        // }\n\n        this.send.emit(msg);\n        this.message = null;\n\n\n    }\n\n    public onFocusText() {\n        this.focusText.emit();\n    }\n\n}\n","<div class=\"border-top m-0 py-0 chat-footer bg-white container-fluid\" [ngStyle]=\"{width: width + 'px'}\" #footer>\n        <div *ngIf=\"visibleMenu\" #extraMenu\n             class=\"w-100 position-absolute font-size-22 bg-white overflow-x-auto horizontal-scrollbar text-{{chat?.options?.color || 'secondary'}}\"\n             [ngStyle]=\"{top: -extraMenu.offsetHeight + 'px', left: 0}\">\n            <div class=\"d-inline-block m-0 p-0 pointer basic-hover text-nowrap\">\n                <i title=\"Upload an attachment (WIP)\" class=\"la mx-1 la-paperclip\"></i>\n                <i title=\"Set an event\" class=\"la mx-1 la-calendar\"></i>\n                <a [routerLink]=\"['/chat', 'full', 'topic', chat.topic]\" target=\"_blank\" [ngStyle]=\"{color: 'inherit'}\">\n                    <i title=\"Open in new tab\" class=\"la mx-1 la-external-link-square-alt\"></i>\n                </a>\n            </div>\n        </div>\n    <div class=\"row\">\n        <div *ngIf=\"!message?.length || aspect === 'full'\"\n             class=\"d-inline-flex align-items-center font-size-22 pointer px-1 basic-hover text-center text-{{chat?.options?.color || 'secondary'}}\">\n\n            <i (click)=\"visibleMenu = !visibleMenu\"\n               title=\"{{!visibleMenu ? 'More' : 'Collapse'}} actions\"\n               [class.la-ellipsis-v]=\"!visibleMenu\"\n               [class.la-times]=\"visibleMenu\"\n               class=\"la mr-1\"></i>\n<!--            <i title=\"Create an action\" class=\"la la-shapes mr-1\" (click)=\"site.chatModal.show(chat, 'action', {sendFn: sendMessage.bind(this)})\"></i>-->\n            <i title=\"Upload an image (WIP)\" class=\"la la-image mr-1\"></i>\n            <i title=\"Add an emote (WIP)\" class=\"la la-smile\"></i>\n        </div>\n\n        <div class=\"col message-text p-1 px-0\">\n            <textarea [attr.resize]=\"'none'\" #textContainer\n                      [rows]=\"rows\"\n                      [cols]=\"cols\"\n                      (focusin)=\"onFocusText()\"\n                      (keydown)=\"sendMessage($event);\"\n                      class=\"custom-scroller h-100 font-size-14 form-control\"\n                      [(ngModel)]=\"message\"\n                      placeholder=\"Aa\"\n                      i18n-placeholder>\n            </textarea>\n        </div>\n        <div class=\"d-inline-flex align-items-center px-3 font-size-22 pointer text-center bg-white basic-hover text-right\"\n             (click)=\"sendMessage()\">\n            <i class=\"la la-paper-plane text-primary\"></i>\n        </div>\n    </div>\n</div>\n","import {Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild} from \"@angular/core\";\nimport {ChatType, IChat} from \"../../../../interfaces/IChat\";\nimport {SiteService} from \"../../../../services/site.service\";\nimport {ChatHelperService} from \"../../../../services/chat-helper.service\";\n\n@Component({\n    selector: \"app-chat-header\",\n    templateUrl: \"./chat-header.component.html\",\n    styleUrls: [\"./chat-header.component.scss\"]\n})\nexport class ChatHeaderComponent implements OnInit {\n\n    public readonly chatTypes = ChatType;\n\n    @Input() chat: IChat;\n    @Input() color: string = \"bg-primary\";\n    @Input() aspect: \"mini\" | \"full\" = \"mini\";\n    @Input() static: boolean = false;\n    @Input() restrictions: boolean = false;\n    @Input() unseenMessages: number = 0;\n    @Input() self: string;\n\n    @Output() minimize = new EventEmitter();\n    @Output() close = new EventEmitter();\n    @Output() tryToJoin = new EventEmitter();\n\n    @ViewChild(\"header\", {static: false}) header: ElementRef;\n\n    constructor(\n        private site: SiteService,\n        public chatHelper: ChatHelperService,\n    ) {\n    }\n\n    ngOnInit() {\n    }\n\n    public get receiver() {\n        return this.chat.subscribers.length > 1\n            ? this.chat.subscribers\n                .find(sub => (sub.user?._id || sub.user) !== this.site.currentUser._id)?.user\n            : this.site.currentUser;\n    }\n\n    public get headerTitle() {\n        const maxLength = (this.header?.nativeElement?.offsetWidth * 0.6 / 10 || 20);\n        let header = this.chatHelper.chatName(this.chat);\n        return header.length > maxLength ? `${header.slice(0, maxLength - 2)}...` : header;\n    }\n\n    // toggleOptions(evt, mode: \"action\"|\"info\"|\"settings\" = \"settings\") {\n    //     evt?.stopPropagation();\n    //     this.site.chatModal.show(this.chat, mode);\n    // }\n\n    get showMenu() {\n        return !this.static || this.chat?.subscribers.some(s => (s.user?._id || s.user) === this.self && s.active);\n    }\n\n}\n","<div class=\"row m-0 chat-header pointer p-2 border-radius-top text-white {{color}}\"\n     (click)=\"minimize.emit()\" #header\n     *ngIf=\"chat\">\n    <div class=\"col align-self-center px-1\">\n        <ng-container *ngIf=\"chat.topic.startsWith('chat-' + chatTypes.Direct); else notDirect\">\n            <app-user-info [isChattable]=\"false\" [showGravatar]=\"true\" [user]=\"receiver\" class=\"align-middle\"></app-user-info>\n        </ng-container>\n        <ng-template #notDirect>\n            <i class=\"mr-1 {{chat.options?.icon || 'la la-comments'}}\"></i>\n            <span class=\"font-size-14\" title=\"{{chatHelper.chatName(chat)}}\">{{headerTitle}}</span>\n        </ng-template>\n        <span class=\"ml-2 badge-pill badge badge-danger align-middle\"\n              [ngbTooltip]=\"unseenMessages > 1 ? multiple : one\"\n              *ngIf=\"unseenMessages > 0\">\n            {{unseenMessages}}\n        </span>\n        <ng-template #one><span>1 unread message</span></ng-template>\n        <ng-template #multiple><span>{{unseenMessages}} unread messages</span></ng-template>\n    </div>\n\n    <div class=\"col-4 text-right p-0\">\n<!--        <div class=\"px-1 d-inline-block basic-hover rounded-circle\" (click)=\"toggleOptions($event, 'info')\">-->\n<!--            <i class=\"la la-info-circle\"></i>-->\n<!--        </div>-->\n\n<!--        <ng-container *ngIf=\"chat && !restrictions\">-->\n<!--            <div class=\"px-1 d-inline-block basic-hover rounded-circle\" (click)=\"toggleOptions($event)\" *ngIf=\"showMenu; else join\">-->\n<!--                <i class=\"la la-cog\"></i>-->\n<!--            </div>-->\n<!--            <ng-template #join>-->\n<!--                <app-button [small]=\"true\"-->\n<!--                            action=\"add\"-->\n<!--                            displayName=\"Join\"-->\n<!--                            (btnClick)=\"tryToJoin.emit()\"-->\n<!--                            *ngIf=\"static\">-->\n<!--                </app-button>-->\n<!--            </ng-template>-->\n<!--        </ng-container>-->\n\n\n        <div class=\"px-1 d-inline-block basic-hover rounded-circle\" (click)=\"close.emit()\" *ngIf=\"aspect !== 'full'\">\n            <i class=\"la font-weight-bold la-times\"></i>\n        </div>\n    </div>\n</div>\n\n","import {Component, Input, OnInit} from '@angular/core';\nimport {IChatWithUnseen} from \"../../../../interfaces/IChat\";\nimport {ChatHelperService} from \"../../../../services/chat-helper.service\";\nimport {SiteService} from \"../../../../services/site.service\";\n\n@Component({\n    selector: 'app-chat-list',\n    templateUrl: './chat-list.component.html',\n    styleUrls: ['./chat-list.component.scss']\n})\nexport class ChatListComponent implements OnInit {\n\n    @Input() userChats: IChatWithUnseen[] = [];\n    @Input() showViewAll: boolean;\n    @Input() classes: string = \"\";\n\n    constructor(\n        public chatHelper: ChatHelperService,\n        public site: SiteService,\n    ) {\n    }\n\n    ngOnInit(): void {\n    }\n\n}\n","<ul class=\"list-unstyled messages-list m-0 {{classes}}\">\n    <li class=\"messages-list-item d-flex\"\n        *ngFor=\"let chat of userChats; let l = last\"\n        (click)=\"chatHelper.activateChat(chat)\"\n    >\n        <div class=\"user-photo-container\">\n            <ng-container *ngFor=\"let sub of chat.subscribers;let i = index\">\n                <app-gravatar-image\n                    *ngIf=\"i < 3 && (sub.user?._id || sub.user) !== site.currentUser?._id\"\n                    [value]=\"sub.user.email\"\n                    [size]=\"30\"\n                ></app-gravatar-image>\n                <div class=\"plus-users\" *ngIf=\"i === 3\"><small class=\"py-1\">+{{chat.subscribers.length - 3}}</small></div>\n            </ng-container>\n        </div>\n        <div class=\"flex-grow-1 d-flex flex-column p-1\">\n            <div\n                class=\"text-nowrap chat-name\"\n                [class.font-weight-bold]=\"chat.messages?.unseen\"\n            >\n                {{chatHelper.chatName(chat)}}\n                <span\n                    class=\"text-white bg-danger rounded ml-1 px-1\"\n                    *ngIf=\"chat.messages?.unseen\"\n                >{{chat.messages?.unseen}}</span>\n            </div>\n            <div class=\"chat-message text-muted\"\n                 *ngIf=\"chat.messages?.last?.content\">\n                {{ chat.messages?.last?.content }}\n            </div>\n        </div>\n    </li>\n    <li *ngIf=\"showViewAll\">\n        <a\n            class=\"p-2 d-block text-center text-dark bg-light text-decoration-none\"\n            [routerLink]=\"['/chat', 'topic', userChats[0]?.topic]\"\n            target=\"_blank\"\n        >\n            <i class=\"la la-eye mr-1\"></i><span> View all in new tab</span>\n        </a>\n    </li>\n</ul>\n","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, OnInit} from \"@angular/core\";\nimport {IChatMessageViewSeen} from \"../../../../interfaces/IChat\";\nimport {SiteService} from \"../../../../services/site.service\";\n\n@Component({\n    selector: \"app-chat-message-seen\",\n    templateUrl: \"./chat-message-seen.component.html\",\n    styleUrls: [\"./chat-message-seen.component.scss\"],\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ChatMessageSeenComponent implements OnInit {\n\n    @Input(\"messageSeen\") set setMessageSeen(messageSeen: IChatMessageViewSeen[]) {\n        this.messageSeen = messageSeen;\n        this.cd.markForCheck();\n    }\n    public messageSeen: IChatMessageViewSeen[];\n    @Input() showNotYet: boolean[] = [false, true];\n\n    constructor(public site: SiteService,\n                private cd: ChangeDetectorRef) {\n    }\n\n    ngOnInit(): void {\n    }\n\n}\n","<span *ngFor=\"let seen of (messageSeen | orderBy:'-date') | filterBy:['notYet']:showNotYet\"\n      container=\"body\"\n      placement=\"left\"\n      [openDelay]=\"250\"\n      [ngbTooltip]=\"seen.notYet ? ((seen.user?._id || seen.user) === site.currentUser._id ? notYetYouTemplate:notYetTemplate) : seenTemplate\">\n    <app-user-info [user]=\"seen.user\"\n                   [style.opacity]=\"seen.notYet ? .25 : 1\"\n                   [gravatarSize]=\"12\"\n                   [hideName]=\"true\"\n                   [isChattable]=\"false\"\n                   [showGravatar]=\"true\">\n    </app-user-info>\n    <ng-template #seenTemplate><span i18n></span> {{(seen.date | date:\"yyyy-MM-dd HH:mm\") | amTimeAgo}}</ng-template>\n    <ng-template #notYetTemplate>  </ng-template>\n    <ng-template #notYetYouTemplate>   </ng-template>\n</span>\n","import {AfterViewInit, Component, OnDestroy, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {Subject} from \"rxjs\";\nimport {takeUntil} from \"rxjs/operators\";\nimport {ChatFacade} from \"../../../../reducers/chat/chat.facade\";\nimport {IChat, IChatWithUnseen} from \"../../../../interfaces/IChat\";\nimport {ChatHelperService} from \"../../../../services/chat-helper.service\";\nimport {SiteService} from \"../../../../services/site.service\";\n\n@Component({\n    selector: 'app-full-chat-container',\n    templateUrl: './full-chat-container.component.html',\n    styleUrls: ['./full-chat-container.component.scss']\n})\nexport class FullChatContainerComponent implements OnInit, OnDestroy, AfterViewInit {\n\n    public topic: string;\n    public userChats: IChatWithUnseen[];\n\n    public height: number;\n    public search: string;\n\n\n    private _unsub$: Subject<void> = new Subject<void>();\n\n    constructor(\n        private route: ActivatedRoute,\n        private router: Router,\n        private chatFacade: ChatFacade,\n        public site: SiteService,\n        public chatHelper: ChatHelperService,\n    ) {\n    }\n\n    ngOnInit(): void {\n        this.site.showChatContainer.next(false);\n        this.route.params.pipe(takeUntil(this._unsub$)).subscribe((params: any) => {\n            this.topic = params.topic;\n        });\n        this.chatFacade.data.pipe(takeUntil(this._unsub$)).subscribe((val: IChat[]) => {\n            this.userChats = val.map(c => ({...c, name: this.chatHelper.chatName(c)}));\n        });\n    }\n\n    ngAfterViewInit(): void {\n        this.height = document.documentElement.offsetHeight - 100;\n    }\n\n    ngOnDestroy(): void {\n        this._unsub$.next();\n        this.chatHelper.deactivateChat(this.topic);\n        this.site.showChatContainer.next(true);\n    }\n\n    changeTopic(chat: IChat) {\n        if (this.topic !== chat.topic) {\n            this.router.navigate(['/chat', 'full', 'topic', chat.topic]);\n        }\n    }\n\n}\n","<div class=\"container-fluid\" [ngStyle]=\"{height: (height || 600) + 'px'}\">\n    <div class=\"row h-100\">\n        <div class=\"col-9 h-100\">\n            <app-chat *ngIf=\"topic\" aspect=\"full\" [topic]=\"topic\"></app-chat>\n        </div>\n        <div class=\"col border-radius p-3 bg-white h-100 custom-scroller horizontal-scrollbar overflow-auto\">\n            <h3 class=\"font-weight-bold\" title=\"Conversations\" ></h3>\n            <div class=\"row\">\n                <div class=\"col form-group\">\n                  <input type=\"text\" [(ngModel)]=\"search\" placeholder=\"Search conversations...\">\n                </div>\n            </div>\n            <app-chat-list [userChats]=\"userChats\"></app-chat-list>\n        </div>\n    </div>\n</div>\n","import {Pipe, PipeTransform} from \"@angular/core\";\nimport {cloneDeep} from \"lodash\";\nimport {IChatMessage, IChatMessageViewSeen} from \"../../../interfaces/IChat\";\nimport {ChatHelperService} from \"../../../services/chat-helper.service\";\nimport {CURRENT_USER_ID} from \"../../../interfaces/IUser\";\n\n@Pipe({\n    name: \"messageSeen\"\n})\nexport class MessageHasSeenPipe implements PipeTransform {\n\n    constructor(private chatHelperService: ChatHelperService) {\n    }\n\n    transform(value: IChatMessageViewSeen[], messages: IChatMessage[], index: number): IChatMessageViewSeen[] {\n        const message = messages[index + 1];\n        const newVal = cloneDeep(value);\n        if (!message) {\n            // It means this message is the last one\n            // So we return everyone who is not the current user or has not seen the message yet\n            // (this includes the current user)\n            return newVal.filter(s => {\n                return s.notYet || (s.user?._id || s.user) !== CURRENT_USER_ID;\n            });\n        }\n\n        return newVal.filter(s => {\n            return !this.chatHelperService.messageSeenBy(message, (s.user?._id || s.user)) && (s.user?._id || s.user) !== CURRENT_USER_ID;\n        });\n    }\n\n}\n","import {Pipe, PipeTransform} from \"@angular/core\";\nimport {IChat, IChatMessage} from \"../../../interfaces/IChat\";\nimport {ChatHelperService} from \"../../../services/chat-helper.service\";\nimport {CURRENT_USER_ID} from \"../../../interfaces/IUser\";\n\n@Pipe({\n    name: \"unseenMessages\"\n})\nexport class UnseenMessagesPipe implements PipeTransform {\n\n    constructor(private chatHelperService: ChatHelperService) {\n    }\n\n    transform(messages: IChatMessage[], chat: IChat): number {\n        const userId = CURRENT_USER_ID;\n\n        if (!this.chatHelperService.userInChatSubscribers(chat.subscribers, userId)) { return 0; }\n\n        return messages?.filter(message => {\n            return !this.chatHelperService.messageSeenBy(message, userId);\n        }).length || 0;\n    }\n\n}\n","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, Input} from \"@angular/core\";\n\n@Component({\n    selector: \"app-gravatar-image\",\n    templateUrl: \"./gravatar-image.component.html\",\n    styleUrls: [\"./gravatar-image.component.scss\"],\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class GravatarImageComponent {\n    @Input(\"size\") set setSize(size: number) {\n        this.size = size;\n        this.cd.markForCheck();\n    }\n    @Input(\"value\") set setValue(value: string) {\n        this.value = value;\n        this.cd.markForCheck();\n    }\n\n    public ratio: number = 3;\n\n    public value: string;\n    public size: number = 30;\n\n    constructor(private cd: ChangeDetectorRef) {\n    }\n}\n","<img *ngIf=\"value\"\n     ngxGravatar\n     class=\"mb-1 mr-2\"\n     [size]=\"size\"\n     [preferGravatar]=\"true\"\n     [email]=\"value\"\n     [src]=\"'https://api.adorable.io/avatars/30/' + value + '.png'\"\n     [ratio]=\"ratio\"\n/>\n","import {NgModule} from \"@angular/core\";\nimport {CommonModule} from \"@angular/common\";\nimport {GravatarImageComponent} from \"./gravatar-image.component\";\nimport {GravatarModule} from \"ngx-gravatar\";\n\n@NgModule({\n    exports: [\n        GravatarImageComponent\n    ],\n    imports: [\n        CommonModule,\n        GravatarModule\n    ],\n    declarations: [GravatarImageComponent]\n})\nexport class GravatarImageModule {\n}\n","import {Directive, ViewContainerRef} from '@angular/core';\n\n@Directive({\n  selector: '[gridHost]'\n})\nexport class GridHostDirective {\n\n  constructor(public viewContainerRef: ViewContainerRef) { }\n\n}\n","import {Component, ComponentFactoryResolver, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\nimport {GridHostDirective} from \"../grid-host.directive\";\nimport IGridWidget, {IWidgetEvent} from \"../../../interfaces/IGridWidget\";\nimport {UrlShortcutComponent} from \"../../widgets/url-shortcut/url-shortcut.component\";\nimport {TodoListComponent} from \"../../widgets/todo-list/todo-list.component\";\n\n@Component({\n  selector: 'app-grid-widget',\n  templateUrl: './grid-widget.component.html',\n  styleUrls: ['./grid-widget.component.scss']\n})\nexport class GridWidgetComponent implements OnInit {\n  private static componentTypes = {\n    \"EmptySpace\": \"EmptySpace\",\n    \"UrlShortcutComponent\": UrlShortcutComponent,\n    \"TodoListComponent\": TodoListComponent\n  };\n\n  @Input() style: any = {};\n  @Input() class: string = null;\n  @Input() active: boolean = true;\n  @Input() empty: boolean = false;\n\n  @Output() delete = new EventEmitter();\n  @Output() widgetEvent = new EventEmitter<IWidgetEvent>();\n\n  @ViewChild(GridHostDirective, {static: true}) public gridHost: GridHostDirective;\n  @ViewChild(\"widget\", {static: true}) public widgetElement;\n\n  constructor(private componentFactoryResolver: ComponentFactoryResolver) {\n  }\n\n  ngOnInit() {\n\n  }\n\n  /**\n   * @description Dynamically creates a component instance with the specified data\n   * @param {IGridWidget} widget  -   The data to be loaded to the component\n   */\n  loadComponent(widget: IGridWidget) {\n    const type = GridWidgetComponent.componentTypes[widget.type];\n    if (type === \"EmptySpace\") {\n      return;\n    }\n    if (!type) {\n      throw new Error(\"Component <\" + widget.type + \"> is not a valid widget\");\n    }\n\n    const viewContainerRef = this.gridHost.viewContainerRef;\n    viewContainerRef.clear();\n\n    // @ts-ignore\n    let component = viewContainerRef.createComponent(this.componentFactoryResolver.resolveComponentFactory(type));\n    if (widget.data) {\n      Object.keys(widget.data).forEach(property => {\n        component.instance[property] = widget.data[property];\n\n      });\n    }\n    if (widget.output) {\n      widget.output.forEach(property => {\n\n        if (component.instance.hasOwnProperty(property)) {\n          component.instance[property].subscribe(event => {\n            this.widgetEvent.emit({\n              type: property,\n              value: event\n            });\n          });\n        }\n      });\n    }\n  }\n\n}\n","<div class=\"widget\" #widget [ngClass]=\"class\">\n    <div class=\"widget-content\" [ngClass]=\"{shadow: !empty}\" [ngStyle]=\"style\">\n        <div class=\"widget-backdrop\"></div>\n        <span class=\"empty-msg\" *ngIf=\"empty\">Empty Space</span>\n        <i *ngIf=\"active\" class=\"la la-trash delete-btn\" (click)=\"delete.emit(widgetElement.nativeElement)\"></i>\n        <ng-template gridHost></ng-template>\n    </div>\n</div>\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {GridWidgetComponent} from \"./grid-widget.component\";\nimport {GridHostDirective} from \"../grid-host.directive\";\nimport {UrlShortcutComponent} from \"../../widgets/url-shortcut/url-shortcut.component\";\nimport {UrlShortcutModule} from \"../../widgets/url-shortcut/url-shortcut.module\";\nimport {TodoListModule} from \"../../widgets/todo-list/todo-list.module\";\n\n\n@NgModule({\n    declarations: [GridWidgetComponent, GridHostDirective],\n    exports: [GridHostDirective],\n    imports: [\n        CommonModule,\n        UrlShortcutModule,\n        TodoListModule,\n    ],\n    entryComponents: [\n        UrlShortcutComponent,\n    ]\n})\nexport class GridWidgetModule {\n}\n","import {ChangeDetectorRef, Component, ComponentFactoryResolver, ComponentRef, ElementRef, EventEmitter, Input, isDevMode, OnDestroy, OnInit, Output, ViewChild} from '@angular/core';\nimport * as Muuri from \"muuri\"; // has no @types\nimport * as DragSelect from \"dragselect\";\nimport {GridHostDirective} from \"./grid-host.directive\";\nimport {GridWidgetComponent} from \"./grid-widget/grid-widget.component\";\nimport IGridWidget, {IGridWidgetOptions, IWidgetEvent} from \"../../interfaces/IGridWidget\";\nimport {takeUntil} from \"rxjs/operators\";\nimport {Subject} from \"rxjs\";\nimport {HelperService} from \"../../services/helper.service\";\n\n@Component({\n  selector: 'app-grid',\n  templateUrl: './grid.component.html',\n  styleUrls: ['./grid.component.scss'],\n})\nexport class GridComponent implements OnInit, OnDestroy {\n\n  availableWidgets: IGridWidget[] = [\n    {\n      type: \"UrlShortcutComponent\",\n      output: [\"modifyWidgetData\", \"changeUrl\"]\n    },\n    {\n        type: \"TodoListComponent\",\n      options: {\n          class: \"widget-lg\"\n      }\n    },\n    {\n      type: \"EmptySpace\",\n      options: {\n        empty: true\n      }\n    },\n\n  ];\n\n  public hideMenu: boolean = true;\n  public loading: boolean = false;\n  public showAvailableWidgets: boolean = false;\n\n  private grid: any;\n  private ds: DragSelect;\n  private availableWidgetsGrid: any;\n  private editable: boolean = false;\n  private layout: string[];\n  private widgets: IGridWidget[] = [];\n  private tmpItems: string[] = [];\n  private movingItem: any = null;\n  private onTrash: boolean = false;\n\n  private _unsub$: Subject<void> = new Subject<void>();\n\n  @Input() enableEdit: boolean = true;\n  @Input() layoutAutoCalculate: boolean = false;\n  @Input() enableDrag: boolean = true;\n  @Input() dragSortInterval: number = 100;\n  @Input() items: NodeList = null;\n  @Input() itemSelector: string = null;\n  @Input() alignRight: boolean = false;\n  @Input() alignBottom: boolean = false;\n  @Input() horizontal: boolean = false;\n\n  @Output() widgetEvent = new EventEmitter<IWidgetEvent>();\n\n  @ViewChild(\"mainGrid\", {static: true}) private gridElement: ElementRef;\n  @ViewChild(\"availableWidgetsGrid\", {static: true}) private availableWidgetsGridElement: ElementRef;\n  @ViewChild(\"availableContainer\", {static: true}) private availableContainer: ElementRef;\n  @ViewChild(\"host\", {static: true}) private hostElement: ElementRef;\n  @ViewChild(\"trash\") private trash: ElementRef;\n  @ViewChild(GridHostDirective, {static: true}) private gridHost: GridHostDirective;\n\n  constructor(\n    private componentFactoryResolver: ComponentFactoryResolver,\n    private cd: ChangeDetectorRef\n  ) {\n  }\n\n  ngOnInit() {\n\n    this.initGrid();\n    if (this.enableEdit) {\n      this.initAvailableWidgetsGrid();\n    }\n\n    // load widgets\n    const widgets = window.localStorage.getItem(\"widgets\");\n    const layout = window.localStorage.getItem(\"layout\");\n\n    if (widgets && layout) {\n      this.widgets = JSON.parse(widgets);\n      this.layout = JSON.parse(layout);\n      // this.widgets = [];\n      // this.layout = [];\n      this.loadWidgets();\n      setTimeout(() => this.applyLayout(\"instant\"));\n    }\n\n    this.ds = new DragSelect({\n      area: this.gridElement.nativeElement,\n      selector: this.gridElement.nativeElement.querySelector(\".drag-select\"),\n      multiSelectMode: false,\n      onDragStart: (el) => {\n        if (!this.isEditable()) {\n          this.ds.break();\n          return;\n        }\n      },\n      onElementSelect: (el) => {\n        if (el.classList.contains(\"widget-selected\")) {\n          el.classList.remove(\"widget-selected\");\n        } else {\n\n          el.classList.add(\"widget-selected\");\n        }\n      },\n      onElementUnselect: (el) => {\n        if (el.classList.contains(\"widget-selected\")) {\n          el.classList.remove(\"widget-selected\");\n        } else {\n\n          el.classList.add(\"widget-selected\");\n        }\n      },\n      callback: () => this.ds.reset()\n    });\n\n  }\n\n  ngOnDestroy(): void {\n    this._unsub$.next();\n  }\n\n  /**\n   * @description Initializes a Muuri instance using @Input options\n   */\n  private initGrid() {\n\n    this.grid = new Muuri(this.gridElement.nativeElement, {\n      items: this.enableEdit ? null : (this.itemSelector || this.items),\n      dragEnabled: true,\n      dragSortInterval: this.dragSortInterval,\n      dragStartPredicate: () => {\n        if (this.enableEdit) {\n          return this.editable;\n        }\n        return this.enableDrag;\n      },\n      layout: {\n        alignRight: this.alignRight,\n        alignBottom: this.alignBottom,\n        horizontal: this.horizontal,\n      },\n      layoutOnInit: !this.enableEdit,\n    }).on(\"dragReleaseEnd\", (item) => {\n      // if the item is added send the template back and create the actual widget\n      console.log(item);\n      if (this.movingItem) {\n        this._addItem(this.availableWidgets[this.movingItem]);\n        item.getElement().classList.remove(\"widget-moving\");\n        this.grid.send(item, this.availableWidgetsGrid, -1, {layoutSender: \"instant\", layoutReceiver: \"instant\"});\n        this.cd.detectChanges();\n      }\n      this.grid.refreshItems().layout();\n    }).on(\"dragReleaseStart\", (item) => {\n      if (this.onTrash) {\n        this.setItemsAsRemoved(item.getElement());\n      }\n    }).on(\"receive\", (data) => {\n      // track if the item is being added\n      this.movingItem = data.item.getElement().getAttribute(\"widget-id\");\n    });\n\n    if (this.layoutAutoCalculate) {\n      this.gridElement.nativeElement.addEventListener(\"mouseenter\", (e) => {\n        this.grid.layout();\n      });\n      this.gridElement.nativeElement.addEventListener(\"mouseleave\", (e) => {\n        this.grid.layout();\n      });\n    }\n\n  }\n\n  /**\n   * @description Initializes a custom Muuri grid with static items in it to be used for the widget menu\n   */\n  private initAvailableWidgetsGrid() {\n    this.availableWidgetsGrid = new Muuri(this.availableWidgetsGridElement.nativeElement, {\n      dragEnabled: true,\n      dragSort: () => {\n        return [this.availableWidgetsGrid, this.grid];\n      },\n      dragContainer: document.body\n    }).on(\"dragStart\", (item) => {\n      item.getElement().classList.add(\"widget-moving\");\n    }).on(\"dragReleaseEnd\", (item) => {\n      item.getElement().classList.remove(\"widget-moving\");\n    }).on(\"receive\", () => {\n      // make sure no item tracked as being added\n      this.movingItem = null;\n    });\n\n\n  }\n\n  private _loadAvailableWidgets() {\n    this.availableWidgets.forEach(widgetData => {\n      this._createWidget(widgetData, false);\n    });\n    const elements = this.hostElement.nativeElement.querySelectorAll(\".widget\");\n\n    elements.forEach((el, idx) => {\n      el.setAttribute(\"widget-id\", idx);\n    });\n\n    this.availableWidgetsGrid.add(elements);\n    setTimeout(() => {\n      this.hideMenu = false;\n    }, 300);\n  }\n\n  /**\n   * @description Enables or disables the edit menu of the grid\n   * @param {boolean} enable\n   * @param {boolean} saveLayout\n   */\n  public async editLayout(enable: boolean, saveLayout: boolean = true) {\n    this.editable = enable;\n\n    if (!this.editable) {\n      this.grid.getItems().forEach(el => {\n        this._makeWidgetUneditable(el.getElement());\n      });\n      this.gridElement.nativeElement.removeAllListeners(\"click\");\n      this.gridElement.nativeElement.removeAllListeners(\"touchend\");\n      document.documentElement.removeEventListener(\"keyup\", this._keyShortcuts);\n      this.tmpItems = [];\n      this.onTrash = false;\n      if (saveLayout) {\n        await this.saveLayout();\n      }\n    } else {\n      await HelperService.sleep();\n\n      this.grid.getItems().forEach(el => {\n        this._makeWidgetEditable(el.getElement());\n      });\n      document.documentElement.addEventListener(\"keyup\", this._keyShortcuts.bind(this));\n      this.gridElement.nativeElement.addEventListener(\"click\", (e) => {\n        this.grid.getItems().forEach(item => {\n          if (!this.ds?.getSelection().includes(item.getElement())) {\n            item.getElement().classList.remove(\"widget-selected\");\n          }\n        });\n      });\n      this.gridElement.nativeElement.addEventListener(\"touchend\", (e) => {\n        this.grid.getItems().forEach(item => {\n          if (!this.ds?.getSelection().includes(item.getElement())) {\n            item.getElement().classList.remove(\"widget-selected\");\n          }\n        });\n      });\n\n      this.trash.nativeElement.addEventListener(\"mouseenter\", () => this.onTrash = true);\n      this.trash.nativeElement.addEventListener(\"mouseleave\", () => this.onTrash = false);\n    }\n\n    this.showAvailableWidgets = false;\n    this.grid.refreshItems().layout();\n  }\n\n  /**\n   * @description Saves the grid layout in the UserSettings of the current user\n   * @param {boolean} force   - Whether to save regardless of having differences or not\n   */\n  private async saveLayout(force: boolean = false) {\n    const deletedItems = this.grid.getItems().filter(i => !i.isActive());\n\n    if (deletedItems.length) {\n      // perma delete\n      this._removeItems(deletedItems);\n\n      // update ids of remaining widgets\n      this.widgets.forEach((w, idx) => {\n        let item = this.grid.getItems().find(i => i.getElement().getAttribute(\"sort-id\") === w.id);\n        if (item) {\n          item.getElement().setAttribute(\"sort-id\", idx.toString());\n        }\n        w.id = idx.toString();\n      });\n    }\n\n    // save\n    const itemIds = this.grid.getItems().map(item => item.getElement().getAttribute(\"sort-id\"));\n    this.layout = itemIds.filter(id => id !== undefined);\n    window.localStorage.setItem(\"layout\", JSON.stringify(this.layout));\n    window.localStorage.setItem(\"widgets\", JSON.stringify(this.widgets));\n  }\n\n  /**\n   * Dynamically loads the grid's widget components and sorts them based on their position in the grid layout\n   */\n  private async loadWidgets() {\n    this.loading = true;\n    this.widgets\n      .sort((a, b) => {\n        let a_idx = this.layout.findIndex(v => v === a.id);\n        let b_idx = this.layout.findIndex(v => v === b.id);\n        return a_idx - b_idx;\n      })\n      .forEach(widgetData => {\n        this._createWidget(widgetData);\n        let w = this.hostElement.nativeElement.querySelectorAll(\".widget\");\n        this._addWidgetToGrid(w[w.length - 1], widgetData.id);\n      });\n    await HelperService.sleep(100);\n    this.grid.refreshItems().layout();\n    this.loading = false;\n  }\n\n  /**\n   * Discards any changes done to the grid since the last saveLayout call\n   */\n  public resetLayout() {\n    // remove items added during this edit phase\n    const addedItems = this.grid.getItems().filter(item => this.tmpItems.includes(item.getElement().getAttribute(\"sort-id\")));\n    this._removeItems(addedItems);\n\n\n    // add items removed during this edit phase\n    const deletedItems = this.grid.getItems().filter(i => !i.isActive());\n    this.grid.show(deletedItems);\n    deletedItems.forEach(item => item._isActive = true);\n\n    // re-sort items like they where before this edit phase\n    if (this.layout) {\n      this.applyLayout(\"ease\");\n    }\n\n    this.editLayout(false, false);\n  }\n\n  /**\n   * @description Sorts the widgets based on the last saved layout\n   * @param {string} sort - The order of the existing widgets\n   */\n  private applyLayout(sort: string = null) {\n    const items = this.grid.getItems();\n    const itemIds = items.map(item => item.getElement().getAttribute(\"sort-id\"));\n\n    let newItems = <any>[];\n    let itemIndex = -1;\n\n    for (let i = 0; i < this.layout.length; i++) {\n      let itemId = this.layout[i];\n      itemIndex = itemIds.indexOf(itemId);\n      if (itemIndex !== -1) {\n        newItems.push(items[itemIndex]);\n      }\n    }\n    try {\n      this.grid.sort(newItems, {layout: sort});\n    } catch (err) {\n      console.warn(\"Items could not be sorted.\", err);\n      if (!itemIds.filter(id => id === undefined).length) {\n        this.layout = itemIds;\n        console.warn(\"Resetting layout...\");\n      }\n    }\n  }\n\n  /**\n   * @description Marks any selected grid items to be deleted on saveLayout\n   */\n  public setItemsAsRemoved(element?: Element) {\n    let deletedTmp;\n    if (element) {\n      deletedTmp = [element];\n    } else {\n      deletedTmp = this.gridElement.nativeElement.querySelectorAll(\".widget-selected\");\n    }\n    deletedTmp.forEach(el => el.classList.add(\"widget-deleted\"));\n    this.grid.hide(deletedTmp);\n    this.grid.getItems(deletedTmp).forEach(item => {\n      item._isActive = false;\n    });\n    this.grid.refreshItems().layout();\n  }\n\n  /**\n   * @description Removes items from the grid and the corresponding elements from the html\n   * @param {any} items\n   */\n  private _removeItems(items: any) {\n    const itemIds = items.map(i => i.getElement().getAttribute(\"sort-id\"));\n    this.grid.remove(items, {removeElements: true});\n\n    // remove them from widget array\n    itemIds.forEach(id => {\n      let idx = this.widgets.findIndex(i => i.id.toString() === id);\n      if (idx !== -1) {\n        this.widgets.splice(idx, 1);\n      }\n    });\n  }\n\n  /**\n   * @description Creates a dynamic widget component and adds it to the grid\n   * @param {IGridWidget} widgetData  - The data for the dynamic component instance\n   */\n  private _addItem(widgetData: IGridWidget) {\n    // make grid editable\n    if (!this.editable) {\n      this.editLayout(true);\n    }\n\n    // init new widget\n    const newWidget = {...widgetData, id: this.widgets.length.toString()};\n    this.widgets.push(newWidget);\n    this._createWidget(newWidget);\n\n\n    // make widget part of the grid\n    let w = this.hostElement.nativeElement.querySelectorAll(\".widget\");\n    this._addWidgetToGrid(w[w.length - 1], newWidget.id);\n    this.grid.refreshItems().layout(true);\n  }\n\n  /**\n   * @description Initializes a dynamic component instance based on widgetData and subscribes to any events passed\n   * @param {IGridWidget} widgetData  - The data for the dynamic component instance\n   * @param {boolean} active          - Whether the widget can be manipulated by the user\n   */\n  private _createWidget(widgetData: IGridWidget, active: boolean = true) {\n    const widget = this.gridHost.viewContainerRef.createComponent(this.componentFactoryResolver.resolveComponentFactory(GridWidgetComponent));\n    if (widgetData.options) {\n      this._setWidgetOptions(widget, widgetData.options);\n    }\n    widget.instance.widgetEvent.pipe(takeUntil(this._unsub$)).subscribe(async (event: IWidgetEvent) => {\n      if (isDevMode()) {\n        console.log(event);\n      }\n      this.widgetEvent.emit(event);\n      if (event.type === \"modifyWidgetData\") {\n        if (event.value.overwrite) {\n          widgetData.data = event.value.data || {};\n          widgetData.options = event.value.options || {};\n        } else {\n          widgetData.data = widgetData.data || {};\n          widgetData.options = widgetData.options || {};\n          Object.keys(event.value.data).forEach(property => {\n            widgetData.data[property] = event.value.data[property];\n          });\n          Object.keys(event.value.options).forEach(property => {\n            if (widget.instance.hasOwnProperty(property)) {\n              widgetData.options[property] = event.value.options[property];\n            }\n          });\n        }\n        if (event.value.options) {\n          this._setWidgetOptions(widget, widgetData.options);\n        }\n        await this.saveLayout(true);\n        setTimeout(() => {\n          this.grid.refreshItems().layout();\n        });\n      }\n    });\n    widget.instance.delete.pipe(takeUntil(this._unsub$)).subscribe((el) => {\n      el.classList.add(\"widget-deleted\");\n      this.grid.hide([el]);\n      this.grid.getItems([el]).forEach(item => {\n        item._isActive = false;\n      });\n      this.grid.refreshItems().layout();\n    });\n    if (!active) {\n      widget.instance.class += ' widget-inactive';\n      widget.instance.active = false;\n    }\n    widget.instance.loadComponent(widgetData);\n  }\n\n  /**\n   * @description adds the specified widget to the grid\n   * @param {any} widget  - The widget to be added\n   * @param {string} id   - The sort-id of the widget in the grid layout\n   */\n  private _addWidgetToGrid(widget: any, id: string) {\n    widget.setAttribute(\"sort-id\", id.toString());\n    if (this.editable) {\n      this.tmpItems.push(id.toString());\n      this._makeWidgetEditable(widget);\n    }\n    this.grid.add([widget]);\n  }\n\n  /**\n   * @description makes the widget able to be manipulated by the user and sets it to editable state\n   * @param {any} el  - The target html element of the widget\n   */\n  private _makeWidgetEditable(el: any) {\n    el.classList.add(\"widget-edit\");\n    this.ds.addSelectables([el]);\n\n    el.addEventListener(\"mousedown\", (e) => {\n      e.preventDefault();\n      this.ds.break();\n    });\n    el.addEventListener(\"touchstart\", (e) => {\n      e.preventDefault();\n      this.ds.break();\n    });\n    el.addEventListener(\"dblclick\", (e) => {\n      e.preventDefault();\n      if (el.classList.contains(\"widget-selected\")) {\n        el.classList.remove(\"widget-selected\");\n      } else {\n        el.classList.add(\"widget-selected\");\n      }\n    });\n    el.addEventListener(\"click\", (e) => this._selectWidgetEvent(e, el));\n    el.addEventListener(\"touchend\", (e) => this._selectWidgetEvent(e, el));\n  }\n\n  /**\n   * @description makes the widget unable to be manipulated by the user and removes its editable state\n   * @param {any} el  - The target html element of the widget\n   */\n  private _makeWidgetUneditable(el: any) {\n    el.classList.remove(\"widget-edit\", \"widget-selected\", \"widget-deleted\");\n    this.ds.removeSelectables([el]);\n    el.removeAllListeners(\"dblclick\");\n    el.removeAllListeners(\"click\");\n    el.removeAllListeners(\"touchend\");\n    el.removeAllListeners(\"mousedown\");\n    el.removeAllListeners(\"touchstart\");\n\n  }\n\n  /**\n   * @description sets the options as inputs for the selected widget\n   * @param widget    - The widget instance\n   * @param options   - The widget options\n   * @private\n   */\n  private _setWidgetOptions(widget: ComponentRef<GridWidgetComponent>, options: IGridWidgetOptions) {\n    Object.keys(options).forEach(property => {\n      if (widget.instance.hasOwnProperty(property)) {\n        widget.instance[property] = options[property];\n      }\n    });\n  }\n\n  /**\n   * @description if the grid is in an editable state, marks every widget as selected\n   */\n  public selectAll() {\n    if (this.editable) {\n      this.grid.getItems().forEach(item => item.getElement().classList.add(\"widget-selected\"));\n    }\n  }\n\n  /**\n   * @description Makes all widgets of the static Muuri grid of the menu to appear\n   */\n  public showAvailable() {\n    this._loadAvailableWidgets();\n    this.showAvailableWidgets = true;\n    setTimeout(() => {\n      this.availableWidgetsGrid.refreshItems().layout();\n    }, 300);\n  }\n\n  /**\n   * @description Makes all widgets of the static Muuri grid of the menu to disappear\n   */\n  public hideAvailable() {\n    this.showAvailableWidgets = false;\n    this.availableWidgetsGrid.remove(this.availableWidgetsGrid.getItems(), {removeElements: true});\n  }\n\n  /**\n   * Getter for editable\n   */\n  public isEditable() {\n    return this.editable;\n  }\n\n  /**\n   * Getter for the items set as inactive in the grid\n   */\n  public get deletedItems() {\n    return this.grid.getItems().filter(i => !i.isActive());\n  }\n\n  /**\n   * @description Enables keyboard shortcuts for keyup event\n   * @param evt\n   * @private\n   */\n  private _keyShortcuts(evt) {\n    evt.preventDefault();\n    evt.stopPropagation();\n    switch (evt.code) {\n      case \"Delete\":\n        this.setItemsAsRemoved();\n        break;\n      case \"KeyA\":\n        if (evt.ctrlKey) {\n          this.selectAll();\n        }\n    }\n  }\n\n  private _selectWidgetEvent(e, el) {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.ctrlKey) {\n      if (el.classList.contains(\"widget-selected\")) {\n        el.classList.remove(\"widget-selected\");\n      } else {\n        el.classList.add(\"widget-selected\");\n      }\n    } else if (e.shiftKey) {\n      if (el.classList.contains(\"widget-selected\")) {\n        el.classList.remove(\"widget-selected\");\n      } else {\n        let prev = el;\n        let toMark = [];\n        let shouldMark = false;\n        while (prev) {\n          if (!prev.classList.contains(\"widget-selected\")) {\n            toMark.push(prev);\n          } else {\n            shouldMark = true;\n            break;\n          }\n          prev = prev.previousElementSibling;\n        }\n        if (shouldMark) {\n          toMark.forEach(w => w.classList.add(\"widget-selected\"));\n        } else {\n          prev = toMark[0];\n          toMark = [];\n          while (prev) {\n            if (!prev.classList.contains(\"widget-selected\")) {\n              toMark.push(prev);\n            } else {\n              shouldMark = true;\n              break;\n            }\n            prev = prev.nextElementSibling;\n          }\n          if (shouldMark) {\n            toMark.forEach(w => w.classList.add(\"widget-selected\"));\n          } else {\n            toMark[0].classList.add(\"widget-selected\");\n          }\n        }\n      }\n    }\n  }\n\n}\n","<div *ngIf=\"enableEdit\" class=\"my-2 text-right\">\n        <app-button *ngIf=\"!isEditable()\"\n                    action=\"edit\"\n                    class=\"grid-edit-button btn-lg\"\n                    icon=\"la-cog\"\n                    displayName=\"\"\n                    id=\"gear-button\"\n                    tourGuide\n                    (btnClick)=\"editLayout(true)\">\n        </app-button>\n\n        <app-button *ngIf=\"isEditable()\"\n                    action=\"save\"\n                    class=\"grid-edit-button btn-lg float-left\"\n                    displayName=\"\"\n                    id=\"save-button\"\n                    tourGuide\n                    (btnClick)=\"editLayout(false)\">\n        </app-button>\n\n        <app-button *ngIf=\"isEditable()\"\n                    class=\"ml-2\"\n                    action=\"cancel\"\n                    icon=\"la-times\"\n                    (btnClick)=\"resetLayout()\">\n        </app-button>\n\n        <app-button *ngIf=\"isEditable()\"\n                    class=\"float-left\"\n                    action=\"save\"\n                    (btnClick)=\"editLayout(false)\">\n        </app-button>\n\n        <app-button *ngIf=\"isEditable()\"\n                    [class]=\"'ml-2'\"\n                    action=\"help\"\n                    displayName=\"Select all\"\n                    i18n-displayName\n                    icon=\"la-cubes\"\n                    (btnClick)=\"selectAll()\">\n        </app-button>\n\n        <app-button *ngIf=\"isEditable()\"\n                    [class]=\"'ml-2'\"\n                    action=\"delete\"\n                    displayName=\"Delete selected\"\n                    i18n-displayName\n                    (btnClick)=\"setItemsAsRemoved()\">\n        </app-button>\n\n        <app-button *ngIf=\"isEditable() && !showAvailableWidgets\"\n                    action=\"save\"\n                    [class]=\"'ml-2'\"\n                    displayName=\"Add widget\"\n                    icon=\"la-cube\"\n                    i18n-displayName\n                    id=\"grid-add-widget\"\n                    tourGuide\n                    (btnClick)=\"showAvailable()\">\n        </app-button>\n\n        <app-button *ngIf=\"isEditable() && showAvailableWidgets\"\n                    action=\"save\"\n                    [class]=\"'ml-2'\"\n                    displayName=\"Close menu\"\n                    icon=\"la-times\"\n                    i18n-displayName\n                    (btnClick)=\"hideAvailable()\">\n        </app-button>\n    </div>\n\n<div class=\"grid grid-main\" #mainGrid [ngClass]=\"isEditable() ? 'grid-edit' : null\" id=\"grid-main-template\" tourGuide>\n    <div class=\"drag-select\" [hidden]=\"!isEditable()\" id=\"drag-select\"></div>\n    <app-loader [loading]=\"loading\" color=\"purple\" type=\"square-loader\"></app-loader>\n    <span *ngIf=\"isEditable()\" class=\"mr-1 edit-label\"><i class=\"la la-edit\"></i>Edit Mode</span>\n</div>\n<div class=\"p-0 m-0 recycle-bin text-lightgrey\" tourGuide id=\"recycle-bin\" *ngIf=\"isEditable()\">\n    <i #trash\n       title=\"Drag widgets here to delete them\"\n       i18n-title\n       class=\"la la-trash la-5x\">\n    </i>\n    <span *ngIf=\"deletedItems.length\"\n          title=\"{{deletedItems.length}} deleted widgets\"\n          i18n-title\n          class=\"font-weight-bold\">\n        {{deletedItems.length}}\n    </span>\n</div>\n\n<div #host>\n    <ng-template gridHost></ng-template>\n</div>\n\n<div [hidden]=\"hideMenu || !showAvailableWidgets\" #availableContainer [ngStyle]=\"{'transition': '.5 display ease-in-out'}\" class=\"grid-container my-2\" id=\"grid-available-widgets\"\n     tourGuide>\n    <div #availableWidgetsGrid class=\"grid custom-scroller horizontal-scrollbar\"></div>\n</div>\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {GridComponent} from \"./grid.component\";\nimport {ButtonModule} from \"../button/button.module\";\nimport { GridWidgetComponent } from './grid-widget/grid-widget.component';\nimport {GridWidgetModule} from \"./grid-widget/grid-widget.module\";\nimport {ModalModule} from \"../modal/modal.module\";\nimport {TourGuideModule} from \"../tour-guide/tour-guide.module\";\nimport {LoaderModule} from \"../loader/loader.module\";\n\n@NgModule({\n    declarations: [GridComponent],\n    exports: [GridComponent],\n    imports: [\n        CommonModule,\n        ModalModule,\n        GridWidgetModule,\n        ButtonModule,\n        TourGuideModule,\n        LoaderModule,\n    ],\n    entryComponents: [GridWidgetComponent]\n})\nexport class GridModule {\n}\n","export enum LoaderTypes {\n    \"ball8bits\" = \"ball-8bits\",\n    \"ballatom\" = \"ball-atom\",\n    \"ballbeat\" = \"ball-beat\",\n    \"ballcircus\" = \"ball-circus\",\n    \"ballclimbingdot\" = \"ball-climbing-dot\",\n    \"ballcliprotate\" = \"ball-clip-rotate\",\n    \"ballcliprotatemultiple\" = \"ball-clip-rotate-multiple\",\n    \"ballcliprotatepulse\" = \"ball-clip-rotate-pulse\",\n    \"ballelasticdots\" = \"ball-elastic-dots\",\n    \"ballfall\" = \"ball-fall\",\n    \"ballfussion\" = \"ball-fussion\",\n    \"ballgridbeat\" = \"ball-grid-beat\",\n    \"ballgridpulse\" = \"ball-grid-pulse\",\n    \"ballnewtoncradle\" = \"ball-newton-cradle\",\n    \"ballpulse\" = \"ball-pulse\",\n    \"ballpulserise\" = \"ball-pulse-rise\",\n    \"ballpulsesync\" = \"ball-pulse-sync\",\n    \"ballrotate\" = \"ball-rotate\",\n    \"ballrunningdots\" = \"ball-running-dots\",\n    \"ballscale\" = \"ball-scale\",\n    \"ballscalemultiple\" = \"ball-scale-multiple\",\n    \"ballscalepulse\" = \"ball-scale-pulse\",\n    \"ballscaleripple\" = \"ball-scale-ripple\",\n    \"ballscaleripplemultiple\" = \"ball-scale-ripple-multiple\",\n    \"ballspin\" = \"ball-spin\",\n    \"ballspinclockwise\" = \"ball-spin-clockwise\",\n    \"ballspinclockwisefade\" = \"ball-spin-clockwise-fade\",\n    \"ballspinclockwisefaderotating\" = \"ball-spin-clockwise-fade-rotating\",\n    \"ballspinfade\" = \"ball-spin-fade\",\n    \"ballspinfaderotating\" = \"ball-spin-fade-rotating\",\n    \"ballspin-rotate\" = \"ball-spin-rotate\",\n    \"ballsquareclockwisespin\" = \"ball-square-clockwise-spin\",\n    \"ballsquarespin\" = \"ball-square-spin\",\n    \"balltrianglepath\" = \"ball-triangle-path\",\n    \"ballzigzag\" = \"ball-zig-zag\",\n    \"ballzigzagdeflect\" = \"ball-zig-zag-deflect\",\n    \"cubetransition\" = \"cube-transition\",\n    \"fire\" = \"fire\",\n    \"linescale\" = \"line-scale\",\n    \"linepulseout\" = \"line-pulse-out\",\n    \"linepulseoutrapid\" = \"line-pulse-out-rapid\",\n    \"linescalepulseout\" = \"line-scale-pulse-out\",\n    \"linescaleparty\" = \"line-scale-party\",\n    \"linespinclockwisefade\" = \"line-spin-clockwise-fade\",\n    \"linespinclockwisefaderotating\" = \"line-spin-clockwise-fade-rotating\",\n    \"pacman\" = \"pacman\",\n    \"squarejelly-box\" = \"square-jelly-box\",\n    \"squareloader\" = \"square-loader\",\n    \"squarespin\" = \"square-spin\",\n    \"timer\" = \"timer\",\n    \"triangleskewspin\" = \"triangle-skew-spin\",\n    // ? custom types\n    \"thegreeksatom\" = \"thegreeks-atom\"\n}\n","import {AfterViewInit, ChangeDetectorRef, Component, Input, OnInit} from \"@angular/core\";\nimport {NgxSpinnerService} from \"ngx-spinner\";\nimport {Size} from \"ngx-spinner/lib/ngx-spinner.enum\";\nimport {LoaderTypes} from \"./LoaderTypes\";\n\n@Component({\n    selector: \"app-loader\",\n    templateUrl: \"./loader.component.html\",\n    styleUrls: [\"./loader.component.scss\"],\n    providers: [NgxSpinnerService]\n})\nexport class LoaderComponent implements OnInit, AfterViewInit {\n\n    private readonly _loaderTypes = Object.values(LoaderTypes);\n\n    @Input(\"loading\") set setLoading(loading: boolean){\n        this.loading = loading;\n\n        if (loading) {\n            this.show();\n        } else {\n            this.hide();\n        }\n        this.cd.markForCheck();\n    }\n\n    @Input() type: LoaderTypes|string|any;\n    @Input() random: boolean = false;\n\n    @Input() fullScreen: boolean = false;\n    @Input() color: string = \"#fff\";\n    @Input() bgColor: string = \"rgba(0,0,0,0.3)\";\n    @Input() textColor: string = null;\n\n    @Input() size: Size = \"medium\";\n\n    public loading: boolean = false;\n\n    constructor(private spinner: NgxSpinnerService,\n                private cd: ChangeDetectorRef) {\n    }\n\n    ngOnInit(): void {\n        if (this.random) {\n            this.type = this._loaderTypes[Math.floor(Math.random() * this._loaderTypes.length)];\n        } else {\n            this.type = this._loaderTypes.includes(this.type) ? this.type : LoaderTypes.ballscalemultiple;\n        }\n    }\n\n    ngAfterViewInit() {\n        if (this.loading) {\n            this.spinner.show();\n        }\n        this.cd.detectChanges();\n    }\n\n    public show() {\n        this.spinner.show();\n    }\n\n    public hide() {\n        this.spinner.hide();\n    }\n\n}\n","<ngx-spinner\n  [bdColor]=\"bgColor\"\n  [size]=\"size\"\n  [color]=\"color\"\n  [fullScreen]=\"fullScreen\"\n  [type]=\"type\">\n  <p class=\"font-weight-bold mt-4\" [style.color]=\"textColor\" i18n>\n    Please wait\"\n  </p>\n</ngx-spinner>\n","import {NgModule} from \"@angular/core\";\nimport {CommonModule} from \"@angular/common\";\nimport {LoaderComponent} from \"./loader.component\";\nimport {NgxSpinnerModule} from \"ngx-spinner\";\n\n@NgModule({\n    exports: [LoaderComponent],\n    imports: [\n        CommonModule,\n        NgxSpinnerModule\n    ],\n    declarations: [LoaderComponent]\n})\nexport class LoaderModule {\n}\n","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, EventEmitter, HostListener, Input, Output, ViewChild} from \"@angular/core\";\nimport {fade} from \"../../animations/enter-leave.animation\";\n\n@Component({\n  selector: \"app-modal\",\n  templateUrl: \"./modal.component.html\",\n  styleUrls: [\"./modal.component.scss\"],\n  animations: [fade],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ModalComponent {\n\n  @Input() hasClose: boolean = true;\n  @Input() closeWithBackdrop: boolean = true;\n  @Input() closeWithEscape: boolean = true;\n\n  @Input() fullWidth: boolean = false;\n  @Input() fullHeight: boolean = false;\n\n  @Input() headerTitle: string = \"\";\n\n  @Input() hasHeader: boolean = true;\n  @Input() hasFooter: boolean = true;\n\n  @Output() backdropClose = new EventEmitter<void>();\n  @Output() close = new EventEmitter<void>();\n  @Output() open = new EventEmitter<void>();\n\n  public opened: boolean;\n\n  @ViewChild(\"footer\") footer: ElementRef;\n  @ViewChild(\"body\") body: ElementRef;\n\n  @HostListener(\"document:keydown.escape\")\n  handleEscapeEvent() {\n    if (this.opened && this.closeWithEscape) {\n      this.opened = false;\n      this.close.emit();\n      this.cd.markForCheck();\n    }\n  }\n\n  constructor(private cd: ChangeDetectorRef) {\n  }\n\n  public show() {\n    this.opened = true;\n    this.open.emit();\n    this.cd.markForCheck();\n  }\n\n  public hide() {\n    this.opened = false;\n    this.close.emit();\n    this.cd.markForCheck();\n  }\n\n  public onBackdropClose() {\n    if (this.closeWithBackdrop && this.opened) {\n      this.opened = false;\n      this.close.emit();\n      this.backdropClose.emit();\n      this.cd.markForCheck();\n    }\n  }\n}\n","<div class=\"app-modal-wrapper\" *ngIf=\"opened\">\n  <div class=\"app-modal\">\n    <div class=\"app-modal-backdrop\" (click)=\"onBackdropClose()\"></div>\n    <div [@fade] class=\"app-modal-content shadow d-flex flex-column justify-content-between\"\n         [ngStyle]=\"{'min-width': '600px'}\"\n         [class.full-width]=\"fullWidth\"\n         [class.full-height]=\"fullHeight\">\n\n      <div *ngIf=\"hasHeader\" class=\"header p-3\">\n        <div class=\"d-flex align-items-center\">\n          <div class=\"flex-grow-1 align-self-center\">\n            <h4 class=\"font-weight-bold m-0\" *ngIf=\"headerTitle !== null\">\n              {{headerTitle}}\n            </h4>\n            <ng-content select=\"[header]\"></ng-content>\n          </div>\n          <div class=\"flex-shrink-1\" *ngIf=\"hasClose\">\n            <app-button action=\"close\" displayName=\"\" (btnClick)=\"hide()\"></app-button>\n          </div>\n        </div>\n      </div>\n      <div class=\"body flex-fill custom-scroller position-relative mr-1 my-1 p-3 overflow-y-auto\"\n           #body>\n          <ng-content select=\"[body]\"></ng-content>\n      </div>\n      <div class=\"footer p-3\" *ngIf=\"hasFooter\">\n        <ng-container #footer>\n          <ng-content select=\"[footer]\"></ng-content>\n        </ng-container>\n      </div>\n    </div>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ModalComponent } from './modal.component';\nimport {ButtonModule} from \"../button/button.module\";\n\n\n\n@NgModule({\n  declarations: [ModalComponent],\n  exports: [ModalComponent],\n  imports: [\n    CommonModule,\n    ButtonModule\n  ]\n})\nexport class ModalModule { }\n","import {\n    ChangeDetectorRef,\n    Component,\n    ElementRef,\n    EventEmitter,\n    Input,\n    OnInit,\n    OnDestroy,\n    AfterViewInit,\n    isDevMode,\n    Output,\n    QueryList,\n    Renderer2,\n    ViewChild,\n    ViewChildren\n} from '@angular/core';\nimport {\n    ITooltipContent,\n    ITourGuideEndEvent,\n    ITourGuidePageEvent,\n    ITourGuideStep,\n    POSSIBLE_TOOLTIP_POSITIONS,\n    TOOLTIP_DB_ERROR,\n    TOOLTIP_MARGIN,\n    TOUR_GUIDE_ATTR,\n    TOUR_GUIDE_VERBAL_TYPE\n} from \"../../interfaces/ITourGuide\";\nimport {NavigationService} from \"../../services/navigation/navigation.service\";\nimport {fade} from \"../../animations/enter-leave.animation\";\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {takeUntil} from \"rxjs/operators\";\nimport {Subject} from \"rxjs\";\nimport {environment} from \"../../../environments/environment\";\nimport {HelperService} from \"../../services/helper.service\";\n\n@Component({\n    selector: \"app-tour-guide\",\n    templateUrl: \"./tour-guide.component.html\",\n    animations: [\n        fade\n    ],\n    styleUrls: [\"./tour-guide.component.scss\"]\n})\n\nexport class TourGuideComponent implements OnInit, OnDestroy, AfterViewInit {\n\n    @Input() steps: ITourGuideStep[] = [];\n    @Input() canEditSteps: boolean = true;\n    @Input() hasBackdrop: boolean = true;\n    @Input() canSkipSteps: boolean = true;\n    @Input() canEndTour: boolean = true;\n    @Input() canEndFromBackdrop: boolean = false;\n    @Input() hasProgressBar: boolean = false;\n    @Input() showDev: boolean = true;\n    @Input() prevPageUrl: string;\n    @Input() prevPageTitle: string;\n    @Input() nextPageUrl: string;\n    @Input() nextPageTitle: string;\n\n    @Output() tourStarted: EventEmitter<void> = new EventEmitter<void>();\n    @Output() tourEnded: EventEmitter<ITourGuideEndEvent> = new EventEmitter<ITourGuideEndEvent>();\n    @Output() pageChange: EventEmitter<ITourGuidePageEvent> = new EventEmitter<ITourGuidePageEvent>();\n\n    public visibleTooltip: boolean = false;\n    public visibleTooltipButton: boolean = false;\n    public openedEditor: boolean = false;\n    public tooltipContent: ITooltipContent = {\n        title: \"Tour Guide\",\n        text: \"This is a tutorial to help you with understanding how to use this entity...\"\n    };\n    public isDevMode: boolean;\n    private _currentStep: number = -1;\n    private _currentPage: number = -1;\n    private _currentStepRect: DOMRect | ClientRect = null;\n    private _ongoing: boolean = false;\n    private _scrolling: boolean = false;\n    private _changingStep: boolean = false;\n    private _unsub$: Subject<void> = new Subject<void>();\n\n    @ViewChildren(\"tooltip\") tooltip: QueryList<ElementRef>;\n    @ViewChild(\"highlighted\") highlighted: ElementRef;\n    @ViewChild(\"progress\") progress: ElementRef;\n    @ViewChild(\"tooltipShow\") tooltipShow: ElementRef;\n    @ViewChild(\"shortcutsModal\") shortcutModal: ElementRef;\n\n    constructor(\n        private navigation: NavigationService,\n        private cd: ChangeDetectorRef,\n        private renderer: Renderer2,\n        private el: ElementRef,\n        private route: ActivatedRoute,\n        private router: Router,\n    ) {\n        el.nativeElement[\"startTour\"] = () => {\n            this.startTour();\n        };\n        el.nativeElement[\"isOngoing\"] = () => {\n            return this.isOngoing;\n        };\n    }\n\n    ngOnInit(): void {\n        document.documentElement.addEventListener(\"keydown\", this._keyShortcuts.bind(this));\n        this.isDevMode = isDevMode() || !environment.production;\n    }\n\n    ngOnDestroy(): void {\n        document.documentElement.removeEventListener(\"keydown\", this._keyShortcuts);\n        this.endTour();\n        this._unsub$.next();\n    }\n\n    ngAfterViewInit(): void {\n        this.route.queryParams.pipe(takeUntil(this._unsub$)).subscribe(params => {\n            if (params.hasOwnProperty(TOUR_GUIDE_ATTR) && !this.isOngoing) {\n                setTimeout(() => {\n                    this.startTour();\n                });\n            }\n        });\n    }\n\n    // INITIALIZERS\n\n    /**\n     * @description Sets the tour state to onGoing and emits an event indicating the tour has started\n     */\n    public startTour() {\n        if (!this.steps.length) {\n            return;\n        }\n        this._ongoing = true;\n        this.tourStarted.emit();\n        this._currentStep = -1;\n        this.nextStep();\n    }\n\n    /**\n     * @description Clears all the tour-guide related classes from the elements, ends the tour and emits an event with relevant info\n     * such as if the tour finished prematurely, if the esc was pressed etc.\n     * @param {ITourGuideEndEvent} event    - The event to be emitted when the tour ends\n     */\n    public endTour(event?: ITourGuideEndEvent) {\n        this._clearSteps();\n        let evt: ITourGuideEndEvent = {\n            escapeKey: false,\n            pageChanged: false,\n            prematureEnd: this.currentStep < this.steps.length - 1,\n            backdropClicked: false,\n            step: this.currentStep\n        };\n        if (event) {\n            evt = {...evt, ...event};\n        }\n        this.tourEnded.emit(evt);\n        this._ongoing = false;\n    }\n\n    /**\n     * @description On backdrop click, if both canEndTour and canEndFromBackdrop are true, calls endTour with event of backdropClicked = true\n     */\n    public backDropEnd() {\n        if (this.canEndTour && this.canEndFromBackdrop) {\n            this.endTour({backdropClicked: true});\n        }\n    }\n\n\n    // STEP NAVIGATION\n\n    /**\n     * @description ends the current tour, emits a pageChange event and navigates to the url of the next page with a 'tourguide' parameter attached to it.\n     * This is done in case there exists a tour-guide on that page so it starts automatically.\n     */\n    public async nextPage() {\n        const url = this.nextPageUrl.startsWith(\"/\") ? this.nextPageUrl : \"/\" + this.nextPageUrl;\n        this.endTour({pageChanged: true});\n        if (this.steps[this.currentStep].hasOwnProperty(\"onNext\")) {\n            this.steps[this.currentStep].onNext();\n            await HelperService.sleep(0);\n        }\n        this.pageChange.emit({\n            page: \"next\",\n            url\n        });\n        await this.router.navigateByUrl(url + \"?\" + TOUR_GUIDE_ATTR + '=true');\n    }\n\n    /**\n     * @description ends the current tour, emits a pageChange event and navigates to the url of the previous page with a 'tourguide' parameter attached to it.\n     * This is done in case there exists a tour-guide on that page so it starts automatically.\n     */\n    public async prevPage() {\n        const url = this.prevPageUrl.startsWith(\"/\") ? this.prevPageUrl : \"/\" + this.prevPageUrl;\n        this.endTour({pageChanged: true});\n        if (this.steps[this.currentStep].hasOwnProperty(\"onPrev\")) {\n            this.steps[this.currentStep].onPrev();\n            await HelperService.sleep(0);\n        }\n        this.pageChange.emit({\n            page: \"previous\",\n            url\n        });\n        await this.router.navigateByUrl(url + \"?\" + TOUR_GUIDE_ATTR + '=true');\n    }\n\n    /**\n     * @description increments the step counter, runs onBefore() of the current step, onNext() of the previous step and then goes to the current step.\n     */\n    public async nextStep() {\n        this._changingStep = true;\n\n        if (++this._currentStep >= this.steps.length) {\n            this._currentStep = this.steps.length - 1;\n        }\n\n        if (this.steps[this.currentStep].hasOwnProperty(\"onBefore\")) {\n            this.steps[this.currentStep].onBefore();\n        }\n\n        const prevStep = this.steps[this._currentStep - 1];\n\n        if (prevStep && prevStep.hasOwnProperty(\"onNext\")) {\n            this.steps[this._currentStep - 1].onNext();\n        }\n\n        this.cd.detectChanges();\n        await HelperService.sleep(0);\n\n        this._goToStep(this.currentStep, \"next\");\n    }\n\n    /**\n     * @description decrements the step counter, runs onBefore() of the current step, onPrev() of the next step and then goes to the current step.\n     */\n    public async prevStep() {\n        this._changingStep = true;\n\n        if (--this._currentStep < 0) {\n            this._currentStep = 0;\n        }\n\n        if (this.steps[this.currentStep].hasOwnProperty(\"onBefore\")) {\n            this.steps[this.currentStep].onBefore();\n        }\n\n        const nextStep = this.steps[this._currentStep + 1];\n\n        if (nextStep && nextStep.hasOwnProperty(\"onPrev\")) {\n            this.steps[this._currentStep + 1].onPrev();\n        }\n\n        this.cd.detectChanges();\n        await HelperService.sleep(0);\n\n        this._goToStep(this.currentStep, \"previous\");\n    }\n\n    /**\n     * @description Sets the step counter to one more/less than the step indicated and then calls prevStep()/nextStep() respectively\n     * @param {number} step - The step to go to\n     */\n    public goToStepViaProgress(step: number) {\n        if (step > this.currentStep && this.canSkipSteps) {\n            this._currentStep = step - 1;\n            this.nextStep();\n        } else if (step < this.currentStep) {\n            this._currentStep = step + 1;\n            this.prevStep();\n        }\n    }\n\n    /**\n     * @description Sets the tour state to changingStep, scrolls to the current step's element if needed and manipulates\n     * the DOM to highlight the current step\n     * @param {number} step                     - The step to go to.\n     * @param {\"previous\"|\"next\"} progress      - Concerns the animation of the progress bar\n     * @private\n     */\n    private _goToStep(step: number, progress?: \"previous\" | \"next\") {\n        if (!this.steps.length) {\n            this.endTour();\n            return;\n        }\n        this._changingStep = true;\n        let stepElement = document.querySelector(\"[\" + TOUR_GUIDE_ATTR + \"='\" + this.steps[step].id + \"']\");\n        this.toggleTooltip(false);\n        if (stepElement) {\n            const coords = stepElement.getBoundingClientRect();\n            if (coords.top < 0 || coords.bottom > document.documentElement.offsetHeight) {\n                this._scrolling = true;\n                this._clearSteps();\n                this.navigation.scrollToId(stepElement.id).subscribe(\n                    value => {\n                    },\n                    error => {\n                        console.warn(error);\n                    },\n                    () => {\n                        this._renderStep(step, stepElement, progress);\n                        this._afterStepCalculations(step);\n                    }\n                );\n            } else {\n                setTimeout(() => {\n                    this._clearSteps();\n                    this._renderStep(step, stepElement, progress);\n                    this._afterStepCalculations(step);\n                }, 300);\n            }\n\n\n        } else {\n            setTimeout(() => {\n                this._clearSteps();\n                this.toggleTooltip(true, false, progress);\n                this.cd.detectChanges();\n                POSSIBLE_TOOLTIP_POSITIONS.forEach(pos => {\n                    this.renderer.removeStyle(this.tooltip.first.nativeElement, pos);\n                });\n                this._calcHighlightPosition(true);\n                this._afterStepCalculations(step);\n            }, 300);\n        }\n        this._setTooltipContent({\n            title: this.steps[step].title,\n            text: this.steps[step].text\n        });\n    }\n\n    /**\n     * @description Sets changingStep state to false and runs the current step's onAfter method if it exists\n     * @param step  - The indicated step's index\n     * @private\n     */\n    private _afterStepCalculations(step: number) {\n        this._changingStep = false;\n        if (this.steps[step].hasOwnProperty(\"onAfter\")) {\n            this.steps[step].onAfter();\n        }\n    }\n\n\n    // GETTERS\n\n    public get currentStep(): number {\n        return this._currentStep;\n    }\n\n    public get currentPage(): number {\n        return this._currentPage;\n    }\n\n    public get scrolling(): boolean {\n        return this._scrolling;\n    }\n\n    public get isOngoing(): boolean {\n        return this._ongoing;\n    }\n\n\n    // DOM MANIPULATION\n\n    /**\n     * @description Adds the relevant tour-guide classes and events to the step and calculates the tooltip's position\n     * @param {number} step                 - The indicated step's index\n     * @param {Element} stepElement         - The step's corresponding DOM element\n     * @param {\"previous\"|\"next\"} progress  - Concerns the progress bar animation\n     * @private\n     */\n    private _renderStep(step: number, stepElement: Element, progress?: \"previous\" | \"next\") {\n        this._scrolling = false;\n        this.toggleTooltip(true, false, progress);\n        this._currentStepRect = stepElement.getBoundingClientRect();\n        this._calcTooltipPosition(this.steps[step].tooltipPosition);\n        this._calcHighlightPosition();\n        stepElement.addEventListener(\"wheel\", this._disableScrollEvent);\n        this.renderer.addClass(stepElement, \"tour-guide-highlighted\");\n        if (this.hasBackdrop && !(this.canEditSteps && !this.steps[step].disabledStep)) {\n            this.renderer.addClass(stepElement, \"tour-guide-disabled-step\");\n        }\n    }\n\n    /**\n     * @description Clears all tour-guide classes and events from the steps' elements\n     * @private\n     */\n    private _clearSteps() {\n        let stepElements = document.getElementsByClassName(\"tour-guide-highlighted\");\n        for (let i = 0; i < stepElements.length; i++) {\n            let el = stepElements[i];\n            this.renderer.removeClass(el, \"tour-guide-highlighted\");\n            this.renderer.removeClass(el, \"tour-guide-disabled-step\");\n\n            el.removeEventListener(\"wheel\", this._disableScrollEvent);\n        }\n    }\n\n    /**\n     * @description Sets the tooltip visibility, reruns positioning calculations if needed and animates the progress bar fill\n     * @param {boolean} val                 - Whether to set to visible or invisible\n     * @param {boolean} recalc              - Whether to run calculations regarding the tooltip's position\n     * @param {\"previous\"|\"next\"} progress  - Concerns the progress bar animation\n     */\n    public toggleTooltip(val: boolean, recalc: boolean = false, progress?: \"previous\" | \"next\") {\n        this.visibleTooltip = val;\n        this.visibleTooltipButton = false;\n        if (recalc && this.steps[this.currentStep] && this.steps[this.currentStep].id) {\n            this._calcTooltipPosition(this.steps[this._currentStep].tooltipPosition);\n        }\n        if (val && this.hasProgressBar) {\n            this.cd.detectChanges();\n\n            let progressBefore;\n            let progressAfter = (this.steps.length ? ((this.currentStep + 1) / this.steps.length) * 100 : 0).toFixed(0);\n\n            switch (progress) {\n                case \"previous\":\n                    progressBefore = (this.steps.length ? ((this.currentStep + 2) / this.steps.length) * 100 : 0).toFixed(0);\n                    this.renderer.setStyle(this.progress.nativeElement, \"width\", progressBefore + \"%\");\n                    setTimeout(() => {\n                        this.renderer.setStyle(this.progress.nativeElement, \"width\", progressAfter + \"%\");\n                    }, 0);\n                    break;\n                case \"next\":\n                    progressBefore = (this.steps.length ? ((this.currentStep) / this.steps.length) * 100 : 0).toFixed(0);\n                    this.renderer.setStyle(this.progress.nativeElement, \"width\", progressBefore + \"%\");\n                    setTimeout(() => {\n                        this.renderer.setStyle(this.progress.nativeElement, \"width\", progressAfter + \"%\");\n                        if (this.currentStep === this.steps.length - 1) {\n                            this.renderer.addClass(this.progress.nativeElement, \"bg-success\");\n                        }\n                    }, 0);\n                    break;\n                default:\n                    this.renderer.setStyle(this.progress.nativeElement, \"width\", progressAfter + \"%\");\n                    if (this.currentStep === this.steps.length - 1) {\n                        this.renderer.addClass(this.progress.nativeElement, \"bg-success\");\n                    }\n                    break;\n            }\n        }\n    }\n\n    /**\n     * @description Shows the button when tooltip is not visible and positions it correctly relevant to the step element\n     */\n    public showTooltipButton() {\n        this.visibleTooltipButton = true;\n        this.cd.detectChanges();\n\n        if (!(this.steps[this.currentStep] && this.steps[this.currentStep].id)) {\n            this.renderer.removeStyle(this.tooltipShow.nativeElement, \"top\");\n            this.renderer.removeStyle(this.tooltipShow.nativeElement, \"right\");\n            return;\n        }\n        if (this._currentStepRect.top - this.tooltipShow.nativeElement.offsetHeight >= 0) {\n            this.renderer.setStyle(this.tooltipShow.nativeElement,\n                \"top\",\n                this._currentStepRect.top - this.tooltipShow.nativeElement.offsetHeight + \"px\");\n        } else {\n            this.renderer.setStyle(this.tooltipShow.nativeElement,\n                \"top\",\n                this._currentStepRect.top + this._currentStepRect.height + \"px\");\n        }\n\n        if (document.documentElement.offsetWidth - this._currentStepRect.left >= 0) {\n            this.renderer.setStyle(this.tooltipShow.nativeElement,\n                \"right\",\n                document.documentElement.offsetWidth - this._currentStepRect.left + \"px\");\n        } else {\n            this.renderer.setStyle(this.tooltipShow.nativeElement,\n                \"right\",\n                document.documentElement.offsetWidth - this._currentStepRect.right - this.tooltipShow.nativeElement.offsetWidth + \"px\");\n        }\n\n    }\n\n    /**\n     * @description Tries to set the tooltip to the specified position relative to the step element, provided it is fully visible without covering it.\n     * If it fails it recursively tries to set the tooltip to the first cardinal position satisfying those requirements, clockwise starting from the top.\n     * Finally if it fails again it forcefully sets the tooltip to the top position.\n     * @param {string} pos      -   The tooltip position relative to the step element\n     * @param {number} tryNo    -   Number of tries used for recursion purposes. You do not have to set this\n     * @private\n     */\n    private _calcTooltipPosition(pos: string, tryNo: number = -1) {\n        if (!this._currentStepRect) {\n            return;\n        }\n        this.cd.detectChanges();\n        const el = this.tooltip.first.nativeElement;\n        let newPos = 0;\n\n        switch (pos) {\n            case \"top\":\n                newPos = this._currentStepRect.top - el.offsetHeight - TOOLTIP_MARGIN;\n                if (newPos < 0) {\n                    this._calcTooltipPosition(POSSIBLE_TOOLTIP_POSITIONS[++tryNo], tryNo);\n                } else {\n                    this.renderer.setStyle(el, \"top\", newPos + \"px\");\n                    this.renderer.addClass(el, \"triangle-bottom\");\n                    this._centerTooltip(false);\n                }\n                break;\n            case \"right\":\n                newPos = this._currentStepRect.right + el.offsetWidth + TOOLTIP_MARGIN;\n                if (newPos > document.documentElement.offsetWidth) {\n                    this._calcTooltipPosition(POSSIBLE_TOOLTIP_POSITIONS[++tryNo], tryNo);\n                } else {\n                    this.renderer.setStyle(el, \"left\", this._currentStepRect.right + TOOLTIP_MARGIN + \"px\");\n                    this.renderer.addClass(el, \"triangle-left\");\n                    this._centerTooltip(true);\n                }\n                break;\n            case \"bottom\":\n                newPos = this._currentStepRect.bottom + el.offsetHeight + TOOLTIP_MARGIN;\n                if (newPos > document.documentElement.offsetHeight) {\n                    this._calcTooltipPosition(POSSIBLE_TOOLTIP_POSITIONS[++tryNo], tryNo);\n                } else {\n                    this.renderer.setStyle(el, \"top\", this._currentStepRect.bottom + TOOLTIP_MARGIN + \"px\");\n                    this.renderer.addClass(el, \"triangle-top\");\n                    this._centerTooltip(false);\n                }\n                break;\n            case \"left\":\n                newPos = this._currentStepRect.left - el.offsetWidth - TOOLTIP_MARGIN;\n                if (newPos < 0) {\n                    this._calcTooltipPosition(POSSIBLE_TOOLTIP_POSITIONS[++tryNo], tryNo);\n                } else {\n                    this.renderer.setStyle(el, \"left\", newPos + \"px\");\n                    this.renderer.addClass(el, \"triangle-right\");\n                    this._centerTooltip(true);\n                }\n                break;\n            default:\n                if (tryNo < POSSIBLE_TOOLTIP_POSITIONS.length) {\n                    this._calcTooltipPosition(POSSIBLE_TOOLTIP_POSITIONS[++tryNo], tryNo);\n                } else {\n                    this.renderer.setStyle(el,\n                        \"top\",\n                        0);\n                    this.renderer.addClass(el, \"triangle-bottom\");\n                    this._centerTooltip(false);\n                }\n        }\n    }\n\n    /**\n     * @description Sets the highlight background behind the current step element if it exists\n     * @param {boolean} hide    - Whether the highlight background is visible\n     * @private\n     */\n    private _calcHighlightPosition(hide: boolean = false) {\n        if (!this._currentStepRect || hide) {\n            this.renderer.setStyle(this.highlighted.nativeElement, \"display\", \"none\");\n            return;\n        }\n        this.renderer.removeStyle(this.highlighted.nativeElement, \"display\");\n\n        this.renderer.setStyle(this.highlighted.nativeElement, \"width\", this._currentStepRect.width + 10 + \"px\");\n        this.renderer.setStyle(this.highlighted.nativeElement, \"height\", this._currentStepRect.height + 10 + \"px\");\n        this.renderer.setStyle(this.highlighted.nativeElement, \"top\", this._currentStepRect.top - 5 + \"px\");\n        this.renderer.setStyle(this.highlighted.nativeElement, \"left\", this._currentStepRect.left - 5 + \"px\");\n    }\n\n    /**\n     * @description Centers the tooltip relative to the step element and the edge of the screen. If it fits in the screen it is fully centered,\n     * otherwise it is set to the edge of the screen. In the second case the tooltip arrow is moved to the top, center or bottom of the tooltip\n     * depending on the position of the step element relative to it.\n     * @param {boolean} vertical    - Whether to center the tooltip vertically or horizontally\n     * @private\n     */\n    private _centerTooltip(vertical: boolean = false) {\n        const el = this.tooltip.first.nativeElement;\n        if (!(el || this._currentStepRect)) {\n            return;\n        }\n        let centeredPos;\n\n        if (vertical) {\n            centeredPos = this._currentStepRect.top + this._currentStepRect.height / 2 - el.offsetHeight / 2;\n            if (centeredPos < 0) {\n                centeredPos = 0;\n                this.renderer.addClass(el, \"edit-bottom\");\n\n            } else if (centeredPos + el.offsetHeight > document.documentElement.offsetHeight) {\n                centeredPos = document.documentElement.offsetHeight - el.offsetHeight;\n            }\n\n            let arrowPos = (centeredPos + el.offsetHeight - this._currentStepRect.top - this._currentStepRect.height / 2) / el.offsetHeight;\n\n            if (arrowPos <= 0.3) {\n                this.renderer.addClass(el, \"arrow-bottom\");\n            } else if (arrowPos >= 0.7) {\n                this.renderer.addClass(el, \"arrow-top\");\n            }\n\n            this.renderer.setStyle(el,\n                \"top\",\n                centeredPos + \"px\");\n\n        } else {\n            centeredPos = this._currentStepRect.left + this._currentStepRect.width / 2 - el.offsetWidth / 2;\n            if (centeredPos < 0) {\n                centeredPos = 0;\n                this.renderer.addClass(el, \"edit-right\");\n\n            } else if (centeredPos + el.offsetWidth > document.documentElement.offsetWidth) {\n                centeredPos = document.documentElement.offsetWidth - el.offsetWidth;\n            }\n\n\n            let arrowPos = (centeredPos + el.offsetWidth - this._currentStepRect.left - this._currentStepRect.width / 2) / el.offsetWidth;\n\n            if (arrowPos <= 0.3) {\n                this.renderer.addClass(el, \"arrow-right\");\n            } else if (arrowPos >= 0.7) {\n                this.renderer.addClass(el, \"arrow-left\");\n            }\n\n            this.renderer.setStyle(el,\n                \"left\",\n                centeredPos + \"px\");\n        }\n    }\n\n\n    // EVENT HANDLING\n\n    private _disableScrollEvent(evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n    }\n\n    /**\n     * @description Enables keyboard shortcuts for the tour navigation\n     * @param evt   - The keyboard event\n     * @private\n     */\n    private _keyShortcuts(evt) {\n        if (!this.isOngoing || this.openedEditor) {\n            return;\n        }\n\n        if (evt.key === \"Escape\" && (this.canEndTour || this.currentStep >= this.steps.length - 1 || (evt.ctrlKey && evt.shiftKey))) {\n            if (this.isOngoing) {\n                evt.preventDefault();\n                this.endTour({escapeKey: true});\n            }\n        } else if (evt.key === \"Tab\") {\n            evt.preventDefault();\n            evt.stopPropagation();\n            if (evt.shiftKey) {\n                if (this.currentStep > 0 && !this._changingStep) {\n                    this.prevStep();\n                }\n            } else if (this.currentStep < this.steps.length - 1 && !this._changingStep) {\n                this.nextStep();\n            }\n\n        } else if (evt.ctrlKey) {\n            evt.preventDefault();\n            switch (evt.key) {\n                case \"ArrowRight\":\n                    if (this.currentStep < this.steps.length - 1 && !this._changingStep) {\n                        this.nextStep();\n                    }\n                    break;\n                case \"ArrowLeft\":\n                    if (this.currentStep > 0 && !this._changingStep) {\n                        this.prevStep();\n                    }\n                    break;\n                case \"q\":\n                    if (this.visibleTooltip) {\n                        this.toggleTooltip(false);\n                        this.showTooltipButton();\n                    } else {\n                        this.toggleTooltip(true, true);\n                    }\n                    break;\n                case \"r\":\n                    this.startTour();\n                    break;\n            }\n        }\n\n    }\n\n\n    // VERBALS\n\n    /**\n     * @description Helper method that sets the tooltip content while parsing html entities\n     * @param {ITooltipContent} content - The content to be set\n     * @private\n     */\n    private _setTooltipContent (content: ITooltipContent) {\n        this.tooltipContent.title = HelperService.decodeHtml(content.title);\n        this.tooltipContent.text = HelperService.decodeHtml(content.text);\n    }\n\n    /**\n     * @description Sets the title, text, and mongoId of the indicated step and recalculates tooltipPosition relative to it\n     * @param {ITourGuideStep} step     - The step to set the content of\n     * @param {ITooltipContent} content - The content to be set\n     * @private\n     */\n    private _updateStepVerbal(step: ITourGuideStep, content: ITooltipContent) {\n        step.title = HelperService.decodeHtml(content.title);\n        step.text = HelperService.decodeHtml(content.text);\n        step._mongoId = content._mongoId;\n\n        this._setTooltipContent(content);\n\n        if (this.visibleTooltip) {\n            this.toggleTooltip(false);\n            setTimeout(() => {\n                this.toggleTooltip(true, true);\n            });\n        }\n    }\n}\n\n","<ng-container *ngIf=\"isOngoing\">\n\n    <div @fade class=\"tour-guide-backdrop\" *ngIf=\"hasBackdrop\" (click)=\"backDropEnd()\"></div>\n\n    <div #tooltipShow class=\"d-inline-block tour-guide-show-tooltip m-1\">\n        <app-button @fade\n                    action=\"view\"\n                    displayName=\"\"\n                    icon=\"la-comment\"\n                    title=\"Show instructions\"\n                    (btnClick)=\"toggleTooltip(true, true)\"\n                    *ngIf=\"visibleTooltipButton\">\n        </app-button>\n    </div>\n\n    <app-button action=\"view\"\n                displayName=\"\"\n                icon=\"la-keyboard\"\n                class=\"tour-guide-shortcuts\"\n                title=\"Shortcuts\"\n                (btnClick)=\"shortcutsModal.show()\">\n    </app-button>\n\n    <div #highlighted class=\"tour-guide-highlight-bg\"\n         [hidden]=\"!hasBackdrop || scrolling\"></div>\n\n    <div @fade\n         #tooltip\n         [class.border]=\"!hasBackdrop\"\n         class=\"tour-guide-tooltip container-fluid\"\n         *ngIf=\"visibleTooltip\">\n<!--        <app-button *ngIf=\"steps[currentStep]?.dbId\"-->\n<!--                    class=\"tour-guide-edit\"-->\n<!--                    action=\"edit\"-->\n<!--                    displayName=\"\"-->\n<!--                    (btnClick)=\"showEditor()\"-->\n<!--                    [class]=\"'btn-sm'\">-->\n<!--        </app-button>-->\n\n        <div class=\"row border-bottom py-3\">\n            <div class=\"col-12\">\n                <h4 class=\"font-weight-bold m-0\">\n                    <span [innerHTML]=\"tooltipContent.title\"></span>\n                    <i class=\"float-right la la-minus font-weight-bold cursor-pointer\"\n                       title=\"Hide instructions\"\n                       (click)=\"toggleTooltip(false); showTooltipButton()\">\n                    </i>\n                </h4>\n            </div>\n        </div>\n\n        <div class=\"row\">\n            <div class=\"col mx-2 py-2 tour-guide-text\">\n                <span [innerHTML]=\"tooltipContent.text\">\n                </span>\n            </div>\n        </div>\n\n        <div class=\"row text-center border-top pt-2\">\n            <div class=\"col-1 p-0 pl-2\">\n                <i class=\"la la-chevron-left pointer font-weight-bold text-secondary page-nav\"\n                   [title]=\"'Previous page: ' + (prevPageTitle || prevPageUrl)\"\n                   (click)=\"prevPage()\"\n                   *ngIf=\"(canSkipSteps || !currentStep) && prevPageUrl\">\n                </i>\n            </div>\n            <div class=\"col text-center\">\n                <span\n                    class=\"mx-1 tour-guide-step {{canSkipSteps ? '' : 'no-skip'}} {{i <= currentStep ? 'bg-primary' : ''}}\"\n                    (click)=\"goToStepViaProgress(i)\"\n                    *ngFor=\"let step of steps; let i = index\">\n                </span>\n            </div>\n            <div class=\"col-1 p-0 pr-2\">\n                <i class=\"la la-chevron-right pointer font-weight-bold text-secondary page-nav\"\n                   [title]=\"'Next page: ' + (nextPageTitle || nextPageUrl)\"\n                   (click)=\"nextPage()\"\n                   *ngIf=\"(canSkipSteps || currentStep >= steps.length - 1) && nextPageUrl\">\n                </i>\n            </div>\n        </div>\n\n        <div class=\"row\" *ngIf=\"hasProgressBar\">\n            <div class=\"col-1\"></div>\n            <div class=\"progress tour-guide-progress col p-0 mt-2\">\n                <div #progress class=\"progress-bar progress-fill \"\n                     role=\"progressbar\"></div>\n            </div>\n            <div class=\"col-1\"></div>\n        </div>\n\n        <div class=\"row\">\n            <div class=\"col text-right p-2\">\n                <app-button *ngIf=\"canEndTour || currentStep >= steps.length - 1\"\n                            color=\"success\"\n                            icon=\"la-check\"\n                            displayName=\"\"\n                            tooltip=\"Finish tour\"\n                            (btnClick)=\"endTour()\"\n                            [class]=\"'btn-sm m-1 pull-left'\">\n                </app-button>\n                <app-button color=\"primary\"\n                            icon=\"la-sync\"\n                            displayName=\"\"\n                            tooltip=\"Restart tour\"\n                            (btnClick)=\"startTour()\"\n                            [class]=\"'btn-sm m-1 pull-left'\"></app-button>\n                <app-button action=\"prev\"\n                            displayName=\"\"\n                            [title]=\"prevPageUrl && currentStep <= 0 ? prevPageTitle || prevPageUrl : ''\"\n                            [hidden]=\"currentStep <= 0 && !prevPageUrl\"\n                            (btnClick)=\"currentStep <= 0 && prevPageUrl ? prevPage() : prevStep()\"\n                            [class]=\"'btn-sm m-1'\">\n                </app-button>\n                <app-button action=\"next\"\n                            [title]=\"nextPageUrl && currentStep >= steps.length - 1 ? nextPageTitle || nextPageUrl : ''\"\n                            [hidden]=\"currentStep >= steps.length - 1 && !nextPageUrl\"\n                            (btnClick)=\"currentStep >= steps.length - 1 && nextPageUrl ? nextPage() : nextStep()\"\n                            [class]=\"'btn-sm m-1'\">\n                </app-button>\n            </div>\n        </div>\n\n    </div>\n\n</ng-container>\n\n<ul class=\"tour-guide-dev p-2 rounded\" *ngIf=\"isOngoing && isDevMode && showDev\">\n    <li (click)=\"hasBackdrop = !hasBackdrop\" class=\"pointer\">\n        hasBackdrop\n        <i class=\"la\" [ngClass]=\"hasBackdrop ? 'la-check text-success' : 'la-times text-danger'\"></i>\n    </li>\n    <li (click)=\"hasProgressBar = !hasProgressBar; toggleTooltip(visibleTooltip)\" class=\"pointer\">\n        hasProgressBar\n        <i class=\"la\" [ngClass]=\"hasProgressBar ? 'la-check text-success' : 'la-times text-danger'\"></i>\n    </li>\n    <li (click)=\"canSkipSteps = !canSkipSteps\" class=\"pointer\">\n        canSkipSteps\n        <i class=\"la\" [ngClass]=\"canSkipSteps ? 'la-check text-success' : 'la-times text-danger'\"></i>\n    </li>\n    <li (click)=\"canEndTour = !canEndTour\" class=\"pointer\">\n        canEndTour\n        <i class=\"la\" [ngClass]=\"canEndTour ? 'la-check text-success' : 'la-times text-danger'\"></i>\n    </li>\n    <li (click)=\"canEndFromBackdrop = !canEndFromBackdrop\" class=\"pointer\">\n        canEndFromBackdrop\n        <i class=\"la\" [ngClass]=\"canEndFromBackdrop ? 'la-check text-success' : 'la-times text-danger'\"></i>\n    </li>\n    <li (click)=\"canEditSteps = !canEditSteps;\" class=\"pointer\">\n        canEditSteps <i class=\"la\" [ngClass]=\"canEditSteps ? 'la-check text-success' : 'la-times text-danger'\"></i>\n    </li>\n</ul>\n\n<app-modal #shortcutsModal\n           [hasFooter]=\"false\"\n           class=\"tour-guide-shortcuts\"\n           headerTitle=\"Tour Guide shortcuts\">\n    <ng-container body>\n        <div>\n            <div>\n                <b>Tab / Ctrl + right arrow:</b>\n            </div>\n            <span>Next step</span>\n            <br><br>\n            <div>\n                <b>Shift + Tab / Ctrl + left arrow:</b>\n            </div>\n            <span>Previous step</span><br><br>\n            <div>\n                <b>Ctrl + q:</b>\n            </div>\n            <span>Hide / show step tooltip</span><br><br>\n            <div>\n                <b>Ctrl + r:</b>\n            </div>\n            <span>Restart tour</span><br><br>\n            <div>\n                <b>Escape:</b>\n            </div>\n            <span>End tour (only if the green check button is visible)</span><br><br>\n        </div>\n    </ng-container>\n</app-modal>\n\n","import {NgModule} from \"@angular/core\";\nimport {CommonModule} from \"@angular/common\";\nimport {TourGuideComponent} from \"./tour-guide.component\";\nimport {ButtonModule} from \"../button/button.module\";\nimport {TourGuideDirective} from \"../../directives/tour-guide/tour-guide.directive\";\nimport {ModalModule} from \"../modal/modal.module\";\n\n@NgModule({\n    exports: [\n        TourGuideComponent,\n        TourGuideDirective\n    ],\n    imports: [\n        CommonModule,\n        ButtonModule,\n        ModalModule,\n    ],\n    declarations: [\n        TourGuideComponent,\n        TourGuideDirective\n    ]\n})\nexport class TourGuideModule {}\n","import {ChangeDetectionStrategy, Component, Input} from \"@angular/core\";\nimport {IUser} from \"../../interfaces/IUser\";\nimport {ChatHelperService} from \"../../services/chat-helper.service\";\nimport {UserFacade} from \"../../reducers/user/user.facade\";\nimport {CURRENT_USER_ID} from \"../../interfaces/IUser\";\nimport {take, takeUntil} from \"rxjs/operators\";\nimport {HelperService} from \"../../services/helper.service\";\n\n@Component({\n  selector: \"app-user-info\",\n  templateUrl: \"./user-info.component.html\",\n  styleUrls: [\"./user-info.component.scss\"],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class UserInfoComponent {\n  @Input(\"user\") set setUser(user: IUser | string | any) {\n    this.user = user;\n    if (!user) {\n      return;\n    }\n\n    if (user === CURRENT_USER_ID) {\n      this.userFacade.data.pipe(take(1)).subscribe((val: any) => {\n        this.user = val;\n      });\n    } else if (typeof user === \"string\") {\n      this.user = HelperService.generateUser(user);\n    } else if (!this.user.fullName && typeof user === \"object\") {\n      this.user.fullName = `${this.user.firstName} ${this.user.lastName}`;\n    }\n\n  }\n\n  @Input() showGravatar: boolean = false;\n  @Input() gravatarSize: number = 20;\n  @Input() isChattable: boolean = true;\n  @Input() hideName: boolean = false;\n\n  public user: IUser | string | any;\n\n  constructor(\n    private userFacade: UserFacade,\n    public chatHelper: ChatHelperService,\n  ) {\n  }\n\n}\n","<div class=\"d-inline-block\" [title]=\"(isChattable) ? 'Send message' : ''\"\n     [class.pointer]=\"isChattable\"\n     *ngIf=\"user\" (click)=\"(isChattable) ? chatHelper.initChat(user) : null\">\n\n    <app-gravatar-image [title]=\"hideName ? user.fullName : ''\"\n                        *ngIf=\"!user.image && showGravatar\"\n                        [size]=\"gravatarSize\"\n                        [value]=\"user?.email\">\n    </app-gravatar-image>\n    <ng-container *ngIf=\"!hideName\">\n        <span>{{user?.fullName}}</span>\n    </ng-container>\n</div>\n","import {NgModule} from \"@angular/core\";\nimport {CommonModule} from \"@angular/common\";\nimport {UserInfoComponent} from \"./user-info.component\";\nimport {GravatarImageModule} from \"../gravatar-image/gravatar-image.module\";\nimport {RouterModule} from \"@angular/router\";\n\n@NgModule({\n    exports: [\n        UserInfoComponent\n    ],\n    imports: [\n        CommonModule,\n        GravatarImageModule,\n        RouterModule\n    ],\n    declarations: [\n        UserInfoComponent\n    ],\n})\nexport class UserInfoModule {\n}\n","import {AfterViewInit, Component, ElementRef, ViewChild} from '@angular/core';\nimport * as Muuri from \"muuri\";\nimport {slideRight} from \"../../../animations/emerge.animation\";\n\n@Component({\n    selector: 'app-todo-list',\n    templateUrl: './todo-list.component.html',\n    styleUrls: ['./todo-list.component.scss'],\n    animations: [\n        slideRight\n    ]\n})\nexport class TodoListComponent implements AfterViewInit {\n\n    private _todo: any;\n    public tasks;\n    public currentComment: string;\n    public readonly NORMAL_LENGTH = 25;\n\n    @ViewChild(\"todoList\", {static: false}) todoList: ElementRef;\n\n    constructor() {\n        this.tasks = [\n            {\n                time: \"12:00\",\n                name: \"Reply to messages\",\n                comment: null,\n                action: {\n                    icon: \"play\",\n                    color: \"success\"\n                }\n            },\n            {\n                time: \"15:00\",\n                name: \"Check orders\",\n                comment: \"test comment\",\n                action: {\n                    icon: \"play\",\n                    color: \"success\"\n                }\n            },\n            {\n                time: \"17:10\",\n                name: \"Clean house\",\n                comment: \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's\" +\n                    \" standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to\" +\n                    \" make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting,\" +\n                    \" remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem\" +\n                    \" Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem\" +\n                    \" Ipsum.\",\n                action: {\n                    icon: \"pause\",\n                    color: \"danger\"\n                }\n            }\n        ];\n    }\n\n    ngAfterViewInit() {\n        this._todo = new Muuri(this.todoList.nativeElement, {\n            items: '.todo-item',\n            layoutEasing: 'ease',\n            dragEnabled: true,\n            dragSortInterval: 0,\n            dragReleaseEasing: 'ease'\n        }).on('dragStart', (item) => {\n            item.getElement().style.width = item.getWidth() + 'px';\n            item.getElement().style.height = item.getHeight() + 'px';\n        }).on('dragReleaseEnd', (item) => {\n            item.getElement().style.width = '';\n            item.getElement().style.height = '';\n        });\n    }\n\n}\n","<div class=\"todo-header text-white text-center bg-success w-100 position-relative py-2\">\n    <i class=\"la la-cogs pull-right la-2x mx-2\"></i>\n    <h5 class=\"d-inline\">Today's Tasks</h5>\n</div>\n<div class=\"todo-list w-100 bg-light px-2\" #todoList>\n    <div class=\"todo-item\" *ngFor=\"let task of tasks\">\n        <div class=\"todo-item-content\">\n            <div class=\"row\">\n                <div class=\"col\">\n                    <b>12:00</b>\n                </div>\n                <div class=\"col\">\n                   <span [title]=\"task.name.length > NORMAL_LENGTH ? task.name : ''\">\n                       {{task.name.slice(0, NORMAL_LENGTH)}}\n                       {{task.name.length > NORMAL_LENGTH ? '...' : ''}}\n                   </span>\n                    <div *ngIf=\"task.comment\">\n                        <i class=\"la la-comments pointer\" (click)=\"currentComment = task.comment\"></i>\n                    </div>\n                </div>\n                <div class=\"col text-right font-weight-bold\">\n                    <i class=\"la la-2x la-{{task.action?.icon}} text-{{task.action?.color}}\"></i>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div [@slideRight]=\"currentComment?.length ? 'visible' : 'invisible'\" class=\"bg-secondary h-100 comment-bubble\">\n        <div class=\"row p-0 m-0\">\n            <div class=\"col-10 px-3 py-1 text-white\">\n                <h5>Comment</h5>\n            </div>\n            <div class=\"col-2 py-1 text-white\">\n                <i class=\"la la-times la-2x pointer pull-right\" (click)=\"currentComment = null\"></i>\n            </div>\n        </div>\n        <div class=\"row px-4\">\n            <div class=\"col-12 p-3 m-1 bg-light border-radius comment-body\">\n                <span>{{currentComment}}</span>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TodoListComponent } from './todo-list.component';\n\n\n\n@NgModule({\n  declarations: [TodoListComponent],\n  imports: [\n    CommonModule\n  ]\n})\nexport class TodoListModule { }\n","import {AfterViewInit, ChangeDetectorRef, Component, ElementRef, EventEmitter, Input, OnDestroy, OnInit, Output, Renderer2, ViewChild} from \"@angular/core\";\nimport {Colors, RADIO_COLORS} from \"../../../interfaces/Generics\";\nimport {FormBuilder, FormGroup} from \"@angular/forms\";\nimport {Location} from \"@angular/common\";\nimport {IWidgetModification} from \"../../../interfaces/IGridWidget\";\nimport {DefaultUrlSerializer, Router, UrlSerializer, UrlTree} from \"@angular/router\";\n\n@Component({\n    selector: \"app-url-shortcut\",\n    templateUrl: \"./url-shortcut.component.html\",\n    styleUrls: [\"./url-shortcut.component.scss\"]\n})\nexport class UrlShortcutComponent implements OnInit, AfterViewInit, OnDestroy {\n\n    @Input() displayName: string;\n    @Input() icon: string;\n    @Input() size: string = \"\";\n    @Input() color: Colors;\n    @Input() navigationUrl: string = \"\";\n\n    @Output() modifyWidgetData: EventEmitter<IWidgetModification> = new EventEmitter<IWidgetModification>();\n    @Output() changeUrl: EventEmitter<string> = new EventEmitter<string>();\n\n    public form: FormGroup;\n    public loading: boolean = false;\n    public ellipsisColor: string = null;\n    public radioColors = [] = RADIO_COLORS;\n\n    private serializer: CustomUrlSerializer;\n\n    @ViewChild(\"editModal\", { read: ElementRef }) editModal: ElementRef;\n\n    constructor(\n        private renderer: Renderer2,\n        private fb: FormBuilder,\n        private router: Router,\n        private location: Location,\n        private cd: ChangeDetectorRef,\n    ) {\n      this.serializer = new CustomUrlSerializer();\n    }\n\n    ngOnInit() {\n        this.ellipsisColor = this._setEllipsisColor(this.color);\n        this.form = this.fb.group({\n            displayName: this.displayName,\n            icon: this.icon,\n            size: this.size,\n            color: this.color,\n            navigationUrl: unescape(this.navigationUrl) === \"undefined\" ? null : unescape(this.navigationUrl)\n        });\n\n        this.cd.detectChanges();\n    }\n\n    ngAfterViewInit(): void {\n        this.renderer.appendChild(document.body, this.editModal.nativeElement);\n    }\n\n    ngOnDestroy(): void {\n        this.renderer.removeChild(document.body, this.editModal.nativeElement);\n    }\n\n    /**\n     * @description Parses the navigationUrl and redirects to it\n     * @param {boolean} newTab  - Whether to open the link in a new tab\n     */\n    async navigate(newTab: boolean = false) {\n        if (this.navigationUrl) {\n            let url = this.navigationUrl.split(\"/\").filter(str => str.length);\n            if ([escape(\"http:\"), escape(\"https:\")].includes(url[0])) {\n                url.splice(0, 2);\n            }\n            this.loading = true;\n            this.changeUrl.emit(url.join(\"/\"));\n            let parsed = this.serializer.parse(url.join(\"/\"));\n            if (newTab) {\n                await this.router.navigate([]).then(() => window.open(this.location.prepareExternalUrl(this.serializer.serialize(parsed)), \"_blank\"));\n            } else {\n                await this.router.navigateByUrl(parsed);\n            }\n            this.loading = false;\n        }\n    }\n\n    /**\n     * @description Propagates the widget\"s data and options to the main grid to save them to the DB\n     */\n    editSave() {\n        let data = this.form.value;\n        this.displayName = data.displayName || this.displayName;\n        this.icon = data.icon || this.icon;\n        this.color = data.color || this.color;\n        this.size = data.size !== null ? data.size : this.size;\n        this.navigationUrl = escape(data.navigationUrl || this.navigationUrl);\n\n        this.modifyWidgetData.emit({\n            overwrite: true,\n            data: {\n                displayName: this.displayName,\n                icon: this.icon,\n                color: this.color,\n                size: this.size,\n                navigationUrl: this.navigationUrl\n            },\n            options: {\n                class: this.size\n            }\n        });\n    }\n\n    /**\n     * @description Sets the text color of the ellipsis icon\n     * @param {Colors} color    - The color to be set\n     * @private\n     */\n    private _setEllipsisColor(color: Colors): string {\n        switch (color) {\n            case \"danger\":\n            case \"info\":\n            case \"primary\":\n            case \"success\":\n            case \"dark\":\n            case \"secondary\":\n                return \"text-white\";\n            case \"light\":\n            case \"warning\":\n                return \"text-black\";\n        }\n    }\n\n}\n\nclass CustomUrlSerializer implements UrlSerializer {\n  parse(url: any): UrlTree {\n    const dus = new DefaultUrlSerializer();\n    return dus.parse(unescape(url.toLowerCase()));\n  }\n\n  serialize(tree: UrlTree): any {\n    const dus = new DefaultUrlSerializer();\n    return dus.serialize(tree);\n  }\n}\n","<button class=\"btn btn-block btn-{{color || 'light'}} h-100\"\n        (click)=\"navigate($event.ctrlKey)\"\n        (auxclick)=\"navigate(true)\">\n    <i class=\"la {{icon || 'la-keyboard'}} mr-1\"></i>{{displayName || 'Custom shortcut'}}\n    <app-loader [loading]=\"loading\" type=\"square-loader\"></app-loader>\n</button>\n<app-button class=\"edit-btn\" [ngClass]=\"ellipsisColor\" icon=\"la-ellipsis-v\" displayName=\"\" (btnClick)=\"editModal.show()\">\n</app-button>\n<app-modal #editModal\n           headerTitle=\"Edit Shortcut\">\n    <ng-container body [formGroup]=\"form\">\n\n        <div class=\"row form-group\">\n            <div class=\"col-sm-3\">\n                <label for=\"displayName\" class=\"col-form-label\">Shortcut name</label>\n            </div>\n            <div class=\"col-sm-6 input-group\">\n                <input id=\"displayName\" class=\"form-control\" formControlName=\"displayName\">\n            </div>\n        </div>\n        <div class=\"row form-group pb-4 border-bottom\">\n            <div class=\"col-sm-3\">\n                <label for=\"navigationUrl\" class=\"col-form-label\">Shortcut url</label>\n            </div>\n            <div class=\"col-sm-6 input-group\">\n                <input id=\"navigationUrl\" class=\"form-control\" formControlName=\"navigationUrl\" placeholder=\"e.g.: http://localhost:4200/orders\">\n            </div>\n        </div>\n        <div class=\"row form-group pb-4 border-bottom\">\n            <div class=\"col-sm-3\">\n                <label for=\"icon\" class=\"col-form-label\">Shortcut icon</label>\n            </div>\n            <div class=\"col-sm-6 input-group\">\n                <input id=\"icon\" class=\"form-control\" formControlName=\"icon\" placeholder=\"Line-awesome icon (e.g. 'la-eye')\">\n            </div>\n        </div>\n        <div class=\"row form-group\">\n            <div class=\"col-sm-3\">\n                <label class=\"col-form-label\">Shortcut color</label>\n            </div>\n            <div class=\"col-sm\">\n              <div class=\"form-check form-check-inline mr-4\" *ngFor=\"let color of radioColors\">\n                <input class=\"form-check-input bg-{{color.value}}\" type=\"radio\"\n                       [value]=\"color.value\" formControlName=\"color\" [name]=\"'color'\" [id]=\"color.value\">\n                <label class=\"form-check-label\">{{color.label}}</label>\n              </div>\n            </div>\n        </div>\n        <div class=\"row form-group\">\n            <div class=\"col-sm-3\">\n                <label class=\"col-form-label\">Shortcut size</label>\n            </div>\n            <div class=\"col-sm\">\n              <div class=\"form-check form-check-inline mr-4\" *ngFor=\"let size of [{value: 'widget-sm', label: 'Small'}, {value: '', label: 'Big'}]\">\n                <input class=\"form-check-input\" type=\"radio\"\n                       [value]=\"size.value\" formControlName=\"size\" [name]=\"'size'\" [id]=\"size.value\">\n                <label class=\"form-check-label\">{{size.label}}</label>\n              </div>\n            </div>\n        </div>\n    </ng-container>\n  <ng-container footer>\n    <div class=\"col text-right\">\n      <app-button action=\"save\" (btnClick)=\"editSave(); editModal.hide()\"></app-button>\n    </div>\n  </ng-container>\n</app-modal>\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {UrlShortcutComponent} from \"./url-shortcut.component\";\nimport {ButtonModule} from \"../../button/button.module\";\nimport {ModalModule} from \"../../modal/modal.module\";\nimport {ReactiveFormsModule} from \"@angular/forms\";\nimport {LoaderModule} from \"../../loader/loader.module\";\n\n\n@NgModule({\n    declarations: [UrlShortcutComponent],\n    exports: [UrlShortcutComponent],\n    imports: [\n        CommonModule,\n        ButtonModule,\n        ModalModule,\n        ReactiveFormsModule,\n        LoaderModule,\n    ]\n})\nexport class UrlShortcutModule {\n}\n","import {AfterViewInit, Directive, ElementRef, Renderer2} from '@angular/core';\nimport {TOUR_GUIDE_ATTR} from \"../../interfaces/ITourGuide\";\n\n@Directive({\n    selector: '[tourGuide]'\n})\nexport class TourGuideDirective implements AfterViewInit {\n\n    constructor(\n        private el: ElementRef,\n        private renderer: Renderer2\n    ) {\n    }\n\n    ngAfterViewInit(): void {\n        let id = this.el.nativeElement.id || this.el.nativeElement[\"ng-reflect-id\"];\n        this.renderer.setAttribute(this.el.nativeElement, TOUR_GUIDE_ATTR, id);\n    }\n\n}\n","export type ColSizes = 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | \"auto\";\nexport type Colors = \"primary\" | \"warning\" | \"danger\" | \"success\" | \"light\" | \"info\" | \"secondary\" | \"dark\" | \"white\";\nexport type Positions = \"top\" | \"right\" | \"bottom\" | \"left\";\n\nexport const RADIO_COLORS = [\n    {value: \"secondary\", label: \"Gray\"},\n    {value: \"danger\", label: \"Red\"},\n    {value: \"success\", label: \"Green\"},\n    {value: \"primary\", label: \"Blue\"},\n    {value: \"warning\", label: \"Yellow\"},\n    {value: \"info\", label: \"Cyan\"},\n];\n\n","import {IModel} from \"./IModel\";\nimport {Observable} from \"rxjs\";\nimport IStringMap from \"./StringMap\";\nimport {IUser} from \"./IUser\";\n\n\nexport interface IChat extends IModel {\n  topic: string;\n  name?: string;\n  type?: ChatType;\n  lastSent?: Date | string | any;\n  options?: {\n    color?: string;\n    icon?: string;\n  };\n  creator: string | any | IUser;\n  subscribers: IChatUser[];\n  activeAction?: Partial<IChatMessageAction> | any;\n}\n\nexport interface IChatWithUnseen extends IChat {\n  messages?: { unseen: number, last: { sender: string, content: string, createdAt: string } };\n}\n\nexport interface IChatUser extends IModel {\n  user: string | any | IUser;\n  settings?: IChatUserSettings;\n  active?: boolean;\n  joinedAt?: string | Date;\n}\n\nexport interface IChatUserSettings {\n  mute?: boolean;\n  stealth?: boolean;\n  seeTypingMessages?: boolean;\n}\n\nexport interface IChatMessage extends IModel {\n  topic: string;\n  sender: string | any | IUser;\n  seen?: (string | any | IUser)[];\n  deleted?: boolean;\n  receiver?: string | any | IUser;\n  notify?: boolean;\n  content?: string;\n  automated?: boolean;\n  media?: IChatMedia[];\n  action?: IChatMessageAction;\n  viewSeen?: IChatMessageViewSeen[]; // only for view purposes\n  metaData?: any;\n}\n\nexport interface IChatMessageSeen {\n  user: (string | any | IUser);\n  date: Date;\n}\n\nexport interface IChatMessageViewSeen extends IChatMessageSeen {\n  notYet?: boolean;\n}\n\nexport interface IChatMedia {\n  url: string;\n  type: \"video\" | \"audio\" | \"photo\";\n}\n\nexport interface IChatMessageAction {\n  kind: ChatActionKind;\n  type?: ChatActionType;\n  data?: {\n    content?: string | any;\n    yesBtnText?: string;\n    noBtnText?: string;\n    generalBtnText?: string;\n    multiChoiceOptions?: (string | { name: string; content?: string } | any)[]\n  };\n  results?: IStringMap<any>;\n  status: \"completed\" | \"pending\" | \"canceled\";\n}\n\nexport interface IChatEvents {\n  newMessage$?: Observable<IChatMessage>;\n  updatedMessage$?: Observable<IChatMessage>;\n  messagesSeen$?: Observable<{ topic: string, userId: string, messageIds?: string[] }>;\n  peopleJoined$?: Observable<{ topic: string, people: (string | any | IUser)[] }>;\n  typing$?: Observable<{ topic: string, user: string | any | IUser }>;\n  userLeft$?: Observable<{ topic: string, user: string }>;\n  updatedChat$?: Observable<IChat>;\n}\n\n\n/** ENUMS and CONSTANTS*/\n\nexport enum ChatType {\n  Generic = \"generic\", // chat-generic-{unique mongoId}\n  Direct = \"direct\", // chat-direct-{userId}-{userId}-{entityId} entityId is not required and only used on specific chats\n}\n\nexport enum ChatEvents {\n  NewMessage = \"newMessage\",\n  UpdatedMessage = \"updatedMessage\",\n  MessagesSeen = \"messagesSeen\",\n  UpdatedChat = \"updatedChat\",\n  PeopleJoined = \"peopleJoined\",\n  Typing = \"typing\",\n  StartedTyping = \"startedTyping\",\n  UserLeft = \"userLeft\"\n}\n\nexport enum ChatActionType {\n  Amount = \"amount\"\n}\n\nexport enum ChatActionKind {\n  Question = \"yesNo\",\n  MultipleChoice = \"multiChoice\",\n  Button = \"btn\",\n}\n\nexport const StoredChats = \"chatRooms\";\nexport const BaseChatAlias = \"Support\";\n\nexport const ChatColors: string[] = [\n  \"default\",\n  \"bg-primary\",\n  \"bg-success\",\n  \"bg-danger\",\n  \"bg-warning\",\n  \"table-primary\",\n  \"table-danger\",\n  \"orange-static\",\n  \"purple-static\",\n  \"brown\",\n  \"teal\",\n  \"pink\",\n  \"light-blue\",\n  \"gradient-teal-pink\",\n  \"gradient-purple\",\n  \"gradient-blue\",\n  \"gradient-orange\",\n  \"gradient-red-pink\",\n  \"gradient-red-blue\",\n  \"gradient-green-teal\",\n  \"gradient-blue-green\",\n  \"gradient-purple-orange\",\n  \"gradient-grey\",\n  \"gradient-wiretap\",\n  \"gradient-moonlit-asteroid\",\n  \"gradient-midnight-city\",\n  \"youtube\",\n  \"gradient-animation\"\n];\n\n","import {Positions} from \"./Generics\";\n\nexport interface ITourGuideStep {\n    id?: string;\n    title?: string;\n    text?: string;\n    tooltipPosition?: Positions;\n    disabledStep?: boolean;\n    dbId?: string;\n    _mongoId?: string;\n\n    onNext?(): void;\n\n    onPrev?(): void;\n\n    onBefore?(): void;\n\n    onAfter?(): void;\n}\n\nexport interface ITooltipContent {\n    id?: string;\n    dbId?: string;\n    _mongoId?: string;\n    title: string;\n    text?: string;\n}\n\nexport interface ITourGuidePageEvent {\n    page: \"previous\" | \"next\";\n    url: string;\n}\n\nexport interface ITourGuideEndEvent {\n    step?: number;\n    prematureEnd?: boolean;\n    pageChanged?: boolean;\n    escapeKey?: boolean;\n    backdropClicked?: boolean;\n}\n\nexport const TOUR_GUIDE_ATTR = \"tourguide\";\nexport const TOUR_GUIDE_VERBAL_TYPE = \"tourGuide\";\nexport const TOOLTIP_MARGIN = 20;\nexport const TOOLTIP_DB_ERROR = {\n    title: \"No step data.\",\n    text: \"The 'dbId' of this step was not found in the Database. Maybe it was changed or not yet set? \" +\n        \"If you had set this step's data before please notify a developer.\",\n    _mongoId: null\n};\nexport const POSSIBLE_TOOLTIP_POSITIONS = [\n    \"top\",\n    \"right\",\n    \"bottom\",\n    \"left\"\n];\n","import {IModel} from \"./IModel\";\n\nexport interface IUser extends IModel {\n  [key: string]: any;\n}\n\nexport const CURRENT_USER_ID = \"__current__\";\n","import {Component, OnInit} from '@angular/core';\nimport {CURRENT_USER_ID, IUser} from \"../../interfaces/IUser\";\nimport {HelperService} from \"../../services/helper.service\";\nimport {ChatHelperService} from \"../../services/chat-helper.service\";\n\n@Component({\n  selector: 'app-chat-view',\n  templateUrl: './chat-view.component.html',\n  styleUrls: ['./chat-view.component.scss']\n})\nexport class ChatViewComponent implements OnInit {\n\n  users: IUser[] = [];\n\n  constructor(\n    private chatHelper: ChatHelperService,\n  ) {\n  }\n\n  ngOnInit(): void {\n    for (let i = 0; i < 5; i++) {\n      let user;\n      do {\n        user = HelperService.generateUser();\n      } while (this.users.some(u => user._id === u._id));\n      this.users.push(user);\n    }\n  }\n\n  chatWith(user: string) {\n    this.chatHelper.initChat(user);\n  }\n\n}\n","<h4 class=\"font-weight-bold\">Select a person to chat with:</h4>\n<ul class=\"list-unstyled mt-5\">\n  <li class=\"border-radius bg-dark pointer basic-hover text-white font-weight-bold m-1 p-3 d-inline\"\n      (click)=\"chatWith(user._id)\"\n      *ngFor=\"let user of users\">\n    <app-user-info [user]=\"user\" [showGravatar]=\"true\"></app-user-info>\n  </li>\n</ul>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ChatViewComponent } from './chat-view.component';\nimport {Route, RouterModule} from \"@angular/router\";\nimport {ButtonModule} from \"../../components/button/button.module\";\nimport {ChatService} from \"../../services/http/chat.service\";\nimport {UserInfoModule} from \"../../components/user-info/user-info.module\";\n\nconst routes: Route[] = [\n  {\n    path: \"\",\n    component: ChatViewComponent\n  },\n  {\n    path: \"full\",\n    loadChildren: () => import(\"../../components/chat/chat.module\").then(m => m.ChatModule)\n  }\n];\n\n@NgModule({\n  declarations: [ChatViewComponent],\n  imports: [\n    RouterModule.forChild(routes),\n    CommonModule,\n    ButtonModule,\n    UserInfoModule\n  ],\n  providers: [ChatService]\n})\nexport class ChatViewModule { }\n","import {Component, ViewChild} from '@angular/core';\nimport {TourGuideComponent} from \"../../components/tour-guide/tour-guide.component\";\nimport {GridComponent} from \"../../components/grid/grid.component\";\nimport {ITourGuideStep} from \"../../interfaces/ITourGuide\";\n\n@Component({\n  selector: 'app-grid-view',\n  templateUrl: './grid-view.component.html',\n  styleUrls: ['./grid-view.component.scss']\n})\nexport class GridViewComponent {\n\n  public tourGuideSteps: ITourGuideStep[] = [];\n  public canEditSteps: boolean = true;\n\n  @ViewChild(\"grid\") grid: GridComponent;\n  @ViewChild(\"guide\") private guide: TourGuideComponent;\n\n  constructor() { }\n\n  public startTour() {\n    this.tourSteps();\n    setTimeout(() => {\n      this.guide.startTour();\n    });\n  }\n\n  public tourSteps(): void {\n    this.tourGuideSteps = [\n      {\n        title: \"Grid Demo\",\n        text: \"A step by step guide on how to use the grid and add widgets. \" +\n          \"Grid uses the Muuri layout engine as its base, but it extends its functionality to support dynamic widgets.\" +\n          \" For this reason any component can become a widget since Grid creates them dynamically at runtime using Angular's ComponentFactory. \" +\n          \"For the demo, I've created three simple widgets to demonstrate this feature.\"\n      },\n      {\n        id: \"gear-button\",\n        title: \"Show settings\",\n        text: \"This button toggles the edit view of the grid, showing the relevant options and the drag area where widgets are placed. (The button is disabled while the tour is on. Please go to the next step)\",\n        disabledStep: true,\n        onBefore: () => {\n          this.grid.editLayout(false, false);\n        }\n      },\n      {\n        id: \"grid-add-widget\",\n        title: \"Adding a widget\",\n        text: \"Here exist all the available widgets one can add to the grid. Using those you can create a dynamic dashboard unique to you.\",\n        disabledStep: true,\n        onBefore: () => {\n          this.grid.editLayout(true, false);\n        }\n      },\n      {\n        id: \"grid-available-widgets\",\n        title: \"Menu widget\",\n        text: \"Try dragging some widgets to the drag area! After that you can continue to the next step\",\n        onPrev: () => {\n          this.grid.hideAvailable();\n        },\n        onNext: () => {\n          this.grid.hideAvailable();\n        },\n        onBefore: () => {\n          this.grid.showAvailable();\n        }\n      },\n      {\n        id: \"grid-main-template\",\n        title: \"Drag area\",\n        text: \"Here you can change the widget's positions by dragging and dropping, or delete them. See the shortcuts after the tour to get the basic idea.\"\n      },\n      {\n        id: \"recycle-bin\",\n        title: \"Delete a widget\",\n        text: \"Here you can drag widgets to delete them. Otherwise you can just click on the small bin icon on each widget or press Delete after selecting some widgets. Don't worry they are not permanently deleted until you save your changes.\",\n        onBefore: () => {\n          this.grid.editLayout(true, false);\n        }\n      },\n      {\n        id: \"save-button\",\n        title: \"Save changes\",\n        text: \"After you finish, you can save your changes permanently. Otherwise you can press cancel to revert them.\",\n        disabledStep: true\n      }\n    ];\n  }\n\n  public tourEnd(): void {\n    this.grid.resetLayout();\n  }\n\n}\n","\n<div class=\"row mb-5\">\n  <div class=\"col text-right\">\n    <app-button action=\"help\" (btnClick)=\"startTour()\"></app-button>\n    <app-button action=\"shortcuts\" [class]=\"'ml-1'\" (btnClick)=\"shortcutsModal.show()\"></app-button>\n  </div>\n</div>\n<app-grid #grid></app-grid>\n\n<app-tour-guide #guide\n                [steps]=\"tourGuideSteps\"\n                [showDev]=\"false\"\n                [canEndFromBackdrop]=\"true\"\n                [canEditSteps]=\"canEditSteps\"\n                [canSkipSteps]=\"false\"\n                [canEndTour]=\"true\"\n                (tourEnded)=\"tourEnd()\"\n>\n</app-tour-guide>\n\n\n<app-modal #shortcutsModal\n           [hasFooter]=\"false\"\n           headerTitle=\"Grid shortcuts\">\n  <ng-container body>\n    <p class=\"border-bottom pb-2\">These shortcuts only work in edit mode. You can enter edit mode by pressing the cog button at the bottom right of the screen.</p>\n    <div>\n      <div>\n        <b>Double click on a widget:</b>\n      </div>\n      <span>Select widget</span>\n      <br><br>\n      <div>\n        <b>Ctrl / Shift + click on a widget:</b>\n      </div>\n      <span>Mass select widgets</span><br><br>\n      <div>\n        <b>Ctrl + :</b>\n      </div>\n      <span>Select all</span><br><br>\n      <div>\n        <b>Del:</b>\n      </div>\n      <span>Delete selected widgets</span><br><br>\n      <div>\n        <b>click + drag cursor:</b>\n      </div>\n      <span>Mass select widgets</span><br><br>\n    </div>\n  </ng-container>\n</app-modal>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { GridViewComponent } from './grid-view.component';\nimport {Route, RouterModule} from \"@angular/router\";\nimport {GridModule} from \"../../components/grid/grid.module\";\nimport {TourGuideModule} from \"../../components/tour-guide/tour-guide.module\";\nimport {ButtonModule} from \"../../components/button/button.module\";\nimport {ModalModule} from \"../../components/modal/modal.module\";\n\n\nconst routes: Route[] = [\n  {\n    path: \"\",\n    component: GridViewComponent\n  }\n];\n\n\n@NgModule({\n  declarations: [GridViewComponent],\n    imports: [\n        CommonModule,\n        RouterModule.forChild(routes),\n        GridModule,\n        TourGuideModule,\n        ButtonModule,\n        ModalModule\n    ]\n})\nexport class GridViewModule { }\n","import { Component, OnInit } from '@angular/core';\nimport {pulsate} from \"../../animations/enter-leave.animation\";\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss'],\n  animations: [\n    pulsate\n  ]\n})\nexport class HomeComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"container-fluid shadow border-radius table-dark\">\n  <div class=\"row\">\n    <div class=\"col-3 align-self-start p-3\">\n      <img src=\"assets/portrait.jpeg\" class=\"border border-radius border-primary\">\n    </div>\n    <div class=\"col align-self-center p-3\">\n      <h3 class=\"pb-3\">Hello there! I'm John. Nice to meet you. <i class=\"la la-smile-beam\"></i></h3>\n      <p>I am a Full-Stack web developer based in Greece, with a passion for games and game development.<br>\n        I mainly do stuff using the <b>MEAN Stack</b>, so here are some of the <b>Angular</b> components I have created\n        over the years.</p>\n      <p class=\"font-weight-bold\">I hope you find them useful or at least fun!</p>\n      <p>You can use the menu on the left to get to the corresponding features. Happy browsing!</p>\n    </div>\n  </div>\n  <div class=\"row mt-3\">\n    <div class=\"col align-self-center text-right p-3\">\n      <i class=\"mx-1 la la-envelope\"></i>\n      <span>john.stamtsidis@gmail.com</span>\n      <br>\n      <a href=\"https://github.com/johnnyneverwalked\"\n         ngbTooltip=\"My Github account\"\n         target=\"_blank\">\n        <i @pulsate class=\"la la-github la-2x\"></i>\n      </a>\n      <a href=\"https://www.linkedin.com/in/john-stamtsidis-7737151a4\"\n         ngbTooltip=\"My LinkedIn account\"\n         target=\"_blank\">\n        <i @pulsate class=\"la la-linkedin-square la-2x\"></i>\n      </a>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-not-found',\n  templateUrl: './not-found.component.html',\n  styleUrls: ['./not-found.component.scss']\n})\nexport class NotFoundComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"row my-5\">\n  <div class=\"col text-center\">\n    <h2 class=\"font-weight-bold\">Error 404 - This url is not valid <i class=\"la mx-1 la-frown\"></i></h2>\n    <app-button color=\"primary\" icon=\"la-torii-gate\" displayName=\"Home\" [href]=\"'/home'\"></app-button>\n  </div>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {ITourGuideStep} from \"../../interfaces/ITourGuide\";\n\n@Component({\n  selector: 'app-tour-guide-view',\n  templateUrl: './tour-guide-view.component.html',\n  styleUrls: ['./tour-guide-view.component.scss']\n})\nexport class TourGuideViewComponent {\n\n  showStep5: boolean = false;\n  tourSteps: ITourGuideStep[] = [\n    {\n      title: \"Tour Guide Demo\",\n      text: \"This is a demo for the TourGuide Component. In dev mode you can change the inputs on the fly from the menu\" +\n        \" on the bottom right of the screen. TourGuide is not a wrapper for an existing library. \" +\n        \"It is a feature developed from scratch.\"\n    },\n    {\n      id: \"step2\",\n      title: \"Navigation\",\n      text: \"You can use the keyboard for step navigation (see shortcuts on the top right). \" +\n        \"You can also end the tour with ctrl+shift+esc regardless of the truthiness of the canEndTour input. Keep this a secret, shhh.\",\n      tooltipPosition: \"right\"\n    },\n    {\n      id: \"step3\",\n      title: \"Dynamic text support\",\n      text: \"Although it is not present in this demo, querying messages by using the dbId property, you can easily setup dynamic step contents from a database/API\",\n      dbId: \"demo-readme-step3\",\n      tooltipPosition: \"left\"\n    },\n    {\n      id: \"step4\",\n      title: \"Highlighted Step edit\",\n      text: \"By adding the disabledStep property you can disable only the current step regardless of the canEditSteps input.\",\n      disabledStep: true,\n      tooltipPosition: \"left\"\n    },\n    {\n      id: \"step5\",\n      title: \"onNext(), onPrev(), onBefore() and onAfter()\",\n      text: \"You can use methods to manage stuff like ngIf before or after getting to a step.\",\n      onNext: () => {\n        this.showStep5 = false;\n      },\n      onPrev: () => {\n        this.showStep5 = false;\n      },\n      onBefore: () => {\n        this.showStep5 = true;\n      },\n    },\n    {\n      id: \"step6\",\n      title: \"Tooltip position\",\n      text: \"You can position the tooltip relative to the highlighted element. If it doesn't fit it will automatically orient itself \" +\n        \"to the first cardinal position where it fits (clockwise starting from the top).\",\n      tooltipPosition: \"right\"\n\n    },\n    {\n      title: \"No id FeelsBadMan :'(\",\n      text: \"This appears in the center of the screen since it is not tied to an element.\",\n    },\n    {\n      id: \"step8\",\n      title: \"Events\",\n      text: \"When the tour starts, ends or the page is changed, an event is emitted with relevant information of the TourGuide's \" +\n        \"state at the time. Also by adding the 'tourguide=true' param in the url for a page that contains a TourGuide component, the tour will start automatically.\" +\n        \" This is very useful if you wish to link TourGuides in different pages together to form a big tour.\"\n    },\n    {\n      id: \"step9\",\n      title: \"Demo end\",\n      text: \" \\\"<i>People want guidance, not rhetoric. They need to know what the plan of action is, and how it will be implemented. They want to be given responsibility to help solve the problem and authority to act on it.</i>\\\" \\n \\n ~ Howard Schultz\"\n    }\n  ];\n\n  constructor() {\n  }\n\n\n  public doStuffOnTourEnd(evt) {\n    // When the tour ends it fires an event with some info regarding its state at the time\n    // Use this event to add logic to the end of the tour.\n\n    console.log(evt);\n    this.showStep5 = false;\n  }\n\n}\n","<div class=\"row mt-5 pt-5\">\n  <div class=\"col-6 offset-3 my-3 text-center\">\n    <div tourGuide id=\"step6\" class=\"d-inline-block\">\n      This is the 6th step\n    </div>\n  </div>\n  <div class=\"col-6 offset-3 my-3 text-center\">\n\n    <div tourGuide id=\"step2\">\n      This is the 2nd step\n    </div>\n  </div>\n  <div class=\"col-6 offset-3 my-3 text-center\">\n\n    <div tourGuide id=\"step3\">\n      This is the 3rd step\n      <input type=\"text\" class=\"form-control\">\n    </div>\n  </div>\n  <div class=\"col-6 offset-3 my-3 text-center\">\n\n    <div tourGuide id=\"step4\">\n      This is the 4th step\n      <input type=\"text\" class=\"form-control\">\n      <app-button action=\"warning\" displayName=\"Test button\"></app-button>\n    </div>\n  </div>\n  <div class=\"col-6 offset-3 my-3 text-center\">\n\n    <div tourGuide *ngIf=\"showStep5\" class=\"font-weight-bold\" id=\"step5\">\n      This is the 5th step\n    </div>\n  </div>\n  <div class=\"col-6 offset-3 my-3 text-center\">\n\n    <div tourGuide id=\"step9\">\n      This is the 9th step\n    </div>\n  </div>\n  <div class=\"col-6 offset-3 my-3 text-center\">\n    <div tourGuide id=\"step8\">\n      This is the 8th step\n    </div>\n  </div>\n  <div class=\"col text-right\">\n    <app-button action=\"help\" displayName=\"Start Tour!\" (btnClick)=\"guide.startTour()\"></app-button>\n  </div>\n</div>\n\n<app-tour-guide #guide\n                [steps]=\"tourSteps\"\n                [canEndFromBackdrop]=\"true\"\n                [hasProgressBar]=\"true\"\n                (tourEnded)=\"doStuffOnTourEnd($event)\">\n</app-tour-guide>\n\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TourGuideViewComponent } from './tour-guide-view.component';\nimport {Route, RouterModule} from \"@angular/router\";\nimport {ButtonModule} from \"../../components/button/button.module\";\nimport {TourGuideModule} from \"../../components/tour-guide/tour-guide.module\";\nimport {ScrollToService} from \"@nicky-lenaers/ngx-scroll-to\";\n\nconst routes: Route[] = [\n  {\n    path: \"\",\n    component: TourGuideViewComponent\n  }\n];\n\n@NgModule({\n  declarations: [TourGuideViewComponent],\n  imports: [\n    CommonModule,\n    TourGuideModule,\n    RouterModule.forChild(routes),\n    ButtonModule\n  ],\n  exports: [RouterModule],\n  providers: [ScrollToService]\n})\nexport class TourGuideViewModule { }\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({name: 'activateUrls'})\nexport class ActivateUrlsPipe implements PipeTransform {\n\n    private urlPattern = /(ftp|http|https):\\/\\/(\\w+:?\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@\\-\\/]))?/;\n\n    constructor() {\n    }\n\n    transform(text: string = \"\", warn?: boolean) {\n        if (warn && text.split(\" \").some(t => this.urlPattern.test(t))) {\n            text += ` <br> <small>*** Don't click on links you don't know the origin of. ***</small>`;\n        }\n        return text.split(\" \")\n            .map(token => token.replace(this.urlPattern, `<a href=\"${token.startsWith(\"http\") ? token : (\"http://\" + token)}\" class=\"text-lightgrey\" target=\"_blank\">${token}<a>`))\n            .join(\" \");\n    }\n}\n","import {NgModule} from \"@angular/core\";\nimport {CommonModule} from \"@angular/common\";\nimport {ActivateUrlsPipe} from \"./activate-urls/activate-urls.pipe\";\n\n@NgModule({\n    declarations: [\n        ActivateUrlsPipe\n    ],\n    exports: [\n        ActivateUrlsPipe,\n    ],\n    imports: [\n        CommonModule\n    ]\n})\nexport class PipesModule {\n}\n","import {createAction, props} from \"@ngrx/store\";\nimport {IChatEvents, IChatMessage, IChatWithUnseen} from \"../../interfaces/IChat\";\n\n/** Generic Actions */\n\nexport const init =\n    createAction(\"[Chat Api] Init Chat\");\n\nexport const clear =\n    createAction(\"[Chat Api] Clear Chats\");\n\nexport const load =\n    createAction(\"[Chat Api] Get chats to load\");\n\nexport const loadChats =\n    createAction(\"[Chat Api] Load Chats\",                           props<{data: IChatWithUnseen[]}>());\n\nexport const event =\n    createAction(\"[Chat Api] Chat event\",                           props<{event: { event: keyof IChatEvents; [key: string]: any; } }>());\n\nexport const send =\n    createAction(\"[Chat Api] Chat message send emulation\",          props<{message: Partial<IChatMessage>}>());\n\nexport const updateMessage =\n    createAction(\"[Chat Api] Chat message update emulation\",        props<{message: { id: string; options: Partial<IChatMessage> }}>());\n\nexport const invite =\n    createAction(\"[Chat Api] Chat invite emulation\",                props<{chat: { topic: string; people: string[] }}>());\n\nexport const seen =\n    createAction(\"[Chat Api] Seen chat messages\",                   props<{data: string}>());\n\nexport const unseen =\n    createAction(\"[Chat Api] Seen chat messages\",                   props<{topic: string, message: IChatMessage}>());\n\nexport const removeChats =\n    createAction(\"[Chat Api] Remove Chats\",                         props<{data: string[]}>());\n\n","import {Injectable} from \"@angular/core\";\nimport {select, Store} from \"@ngrx/store\";\nimport * as chatActions from \"./chat.actions\";\nimport {Observable} from \"rxjs\";\nimport {ChatEvents, IChat, IChatEvents, IChatMessage} from \"../../interfaces/IChat\";\nimport {AppState} from \"../../states/app.state\";\n\n@Injectable()\nexport class ChatFacade {\n\n    constructor(\n        private store: Store<AppState>,\n    ) {\n    }\n\n    /** selectors */\n\n    private data$: Observable<IChat[]> = this.store.pipe(select(state => state.chats.userChats));\n    private messages$: Observable<IChatMessage[]> = this.store.pipe(select(state => state.chats.messages));\n    // ? for the demo purposes replaces sockets\n    private event$: Observable<{ event: keyof IChatEvents, [key: string]: any }> = this.store.pipe(select(state => state.chats.event));\n\n    /** methods */\n\n    load() {\n        this.store.dispatch(chatActions.load());\n    }\n\n    init() {\n        this.store.dispatch(chatActions.init());\n    }\n\n    clear() {\n        this.store.dispatch(chatActions.clear());\n    }\n\n    sendEvent(event: { event: keyof IChatEvents, [key: string]: any }) {\n      this.store.dispatch(chatActions.event({event}));\n    }\n\n    sendMessage(message: Partial<IChatMessage>) {\n      this.store.dispatch(chatActions.send({message}));\n      // this.store.dispatch(chatActions.event({event: ChatEvents.NewMessage + \"$\", message}))\n    }\n\n  updateMessage(id: string, options: any) {\n      this.store.dispatch(chatActions.updateMessage({message: {id, options}}));\n      // this.store.dispatch(chatActions.event({event: ChatEvents.NewMessage + \"$\", message}))\n    }\n\n  invite(topic: string, people: string[]) {\n      this.store.dispatch(chatActions.invite({chat: {topic, people}}));\n      // this.store.dispatch(chatActions.event({event: ChatEvents.NewMessage + \"$\", message}))\n    }\n\n    seen(data: string) {\n        this.store.dispatch(chatActions.seen({data}));\n    }\n\n    unseen(topic: string, message: IChatMessage) {\n        this.store.dispatch(chatActions.unseen({topic, message}));\n    }\n\n    loadChats(data: IChat[] = []) {\n        // data.forEach(chat => this.socket.join(chat.topic));\n        this.store.dispatch(chatActions.loadChats({data}));\n    }\n\n    removeChats(data: string[] = []) {\n        // data.forEach(topic => this.socket.leave(topic));\n        this.store.dispatch(chatActions.removeChats({data}));\n    }\n\n    /** getters */\n\n    get data() {\n        return this.data$;\n    }\n    get messages() {\n        return this.messages$;\n    }\n    get event() {\n        return this.event$;\n    }\n\n}\n","import {State} from \"./chat.reducer\";\n\nexport const initialState: State = {\n  userChats: [],\n  messages: [],\n  event: null\n};\n","import {initialState} from \"./chat.init\";\nimport * as chatActions from \"./chat.actions\";\nimport {cloneDeep, uniqBy} from \"lodash\";\nimport {Action, createReducer, on} from \"@ngrx/store\";\nimport {ChatEvents, IChat, IChatEvents, IChatMessage, IChatWithUnseen} from \"../../interfaces/IChat\";\nimport * as moment from \"moment\";\nimport {HelperService} from \"../../services/helper.service\";\n\nexport interface State {\n    userChats: IChatWithUnseen[];\n    messages: IChatMessage[];\n    event?: { event: keyof IChatEvents, [key: string]: any };\n}\n\nconst ChatReducer = createReducer(\n    initialState,\n\n    on(chatActions.init, () => cloneDeep(initialState)),\n\n    on(chatActions.clear, () => cloneDeep(initialState)),\n\n    on(chatActions.event, (state, event) => {\n      console.log(event);\n      return {...state, event: event};\n    }),\n\n    on(chatActions.send, (state, message) => {\n      state.messages.push(message.message);\n      state.event = {event: ChatEvents.NewMessage + \"$\", message: message.message};\n      return {...state};\n    }),\n\n    on(chatActions.updateMessage, (state, message) => {\n      const messageIndex = state.messages.findIndex(m => message.message.id === m._id);\n      if (messageIndex !== -1) {\n        state.messages[messageIndex] = {...state.messages[messageIndex], ...message.message.options};\n      }\n      state.event = {event: ChatEvents.UpdatedMessage + \"$\", message: state.messages[messageIndex]};\n      return {...state};\n    }),\n\n    on(chatActions.invite, (state, chat) => {\n      const chatIndex = state.userChats.findIndex(c => chat.chat.topic === c.topic);\n      if (chatIndex !== -1) {\n        const foundChat: IChat = state.userChats[chatIndex];\n        for (let person of chat.chat.people) {\n          if (!foundChat.subscribers.find(u => u.user === person)) {\n            foundChat.subscribers.push({\n              user: person,\n              joinedAt: moment().toISOString(),\n              active: true,\n              settings: {}\n            });\n          }\n        }\n      }\n      state.event = {event: ChatEvents.PeopleJoined + \"$\", people: chat.chat.people};\n      return {...state};\n    }),\n\n    on(chatActions.seen, (state, topic) => {\n        const chatIdx = state.userChats?.findIndex(chat => chat.topic === topic.data);\n        if (chatIdx !== -1) {\n            state.userChats[chatIdx].messages = {last: null, unseen: 0};\n        }\n        state.userChats = [...state.userChats];\n        return state;\n    }),\n    on(chatActions.unseen, (state, data) => {\n        const chatIdx = state.userChats?.findIndex(chat => chat.topic === data.topic);\n        if (chatIdx !== -1) {\n            const chat = state.userChats.splice(chatIdx, 1)[0];\n            chat.messages = {\n                last: {\n                    createdAt: moment().toISOString(),\n                    sender: data.message.sender?._id || data.message.sender,\n                    content: data.message.content\n                },\n                unseen: (chat.messages?.unseen || 0) + 1\n            };\n            chat.lastSent = moment().toISOString();\n            state.userChats = HelperService.arrayInsert(state.userChats, 0, chat);\n        }\n\n        return state;\n    }),\n\n    on(chatActions.loadChats, (state, chats) => {\n        state.userChats = uniqBy([...(chats.data || []), ...state.userChats], \"topic\");\n        return state;\n    }),\n\n    on(chatActions.removeChats, (state, topics) => {\n        state.userChats = state.userChats.filter(c => !topics.data.includes(c.topic));\n        return state;\n    })\n);\n\nexport function initChatReducer(state: State | undefined, action: Action) {\n    return ChatReducer(state, action);\n}\n","import {createAction, props} from \"@ngrx/store\";\nimport {IUser} from \"../../interfaces/IUser\";\n\n/** Generic Actions */\n\nexport const init =\n    createAction(\"[User Api] Init user\");\n\nexport const load =\n    createAction(\"[User Api] Get user\",  props<{id: string}>());\n\nexport const loadUser =\n    createAction(\"[User Api] Load user\", props<{user: Partial<IUser>}>());\n\n","import {Injectable} from \"@angular/core\";\nimport {select, Store} from \"@ngrx/store\";\nimport * as userActions from \"./user.actions\";\nimport {Observable} from \"rxjs\";\nimport {AppState} from \"../../states/app.state\";\nimport {CURRENT_USER_ID, IUser} from \"../../interfaces/IUser\";\n\n@Injectable({providedIn: \"root\"})\nexport class UserFacade {\n\n    constructor(\n        private store: Store<AppState>,\n    ) {\n    }\n\n    /** selectors */\n\n    private data$: Observable<IUser> = this.store.pipe(select(state => state.user));\n\n    /** methods */\n\n    load(id: string) {\n        // this.store.dispatch(userActions.load({id}));\n        this.loadUser({\n          _id: CURRENT_USER_ID,\n          name: \"Visitor\",\n          firstName: \"You\",\n          lastName: \"the Visitor\",\n          fullName: \"You the Visitor\",\n          email: \"test@test.test\",\n          gravatar: \"test@test.test\",\n        });\n    }\n\n    loadUser(user: Partial<IUser>|any) {\n        this.store.dispatch(userActions.loadUser({user}));\n    }\n\n    init() {\n        this.store.dispatch(userActions.init());\n    }\n\n    /** getters */\n\n    get data() {\n        return this.data$;\n    }\n\n}\n","import {State} from \"./user.reducer\";\n\nexport const initialState: State = {\n\n};\n","import {initialState} from \"./user.init\";\nimport * as userActions from \"./user.actions\";\nimport {cloneDeep} from \"lodash\";\nimport {Action, createReducer, on} from \"@ngrx/store\";\nimport {IUser} from \"../../interfaces/IUser\";\n\nexport interface State extends IUser {\n    [key: string]: any;\n}\n\nconst userReducer = createReducer(\n    initialState,\n\n    on(userActions.init, () => cloneDeep(initialState)),\n\n    on(userActions.loadUser, (state, {user}) => {\n        if (user?._id) {\n            state = user;\n        }\n        return {...state};\n    })\n);\n\nexport function initUserReducer(state: State | undefined, action: Action) {\n    return userReducer(state, action);\n}\n","/**\n *Made with <3 by C.R.U.D. at 11/10/2019\n */\nimport {Injectable} from \"@angular/core\";\nimport {ChatActionKind, ChatActionType, ChatColors, ChatType, IChat, IChatMessage, IChatMessageAction, IChatUser, StoredChats} from \"../interfaces/IChat\";\nimport {CURRENT_USER_ID, IUser} from \"../interfaces/IUser\";\nimport {uniqBy} from \"lodash\";\nimport {LocalStorageService} from \"ngx-webstorage\";\nimport {ChatService} from \"./http/chat.service\";\n\n@Injectable({providedIn: \"root\"})\nexport class ChatHelperService {\n\n\n    constructor(\n        public chatService: ChatService,\n        private storage: LocalStorageService\n    ) {\n    }\n\n    initChat(user: string | any | IUser) {\n        let me = CURRENT_USER_ID;\n        if (!(me && (user?._id || typeof user === \"string\")) || (user._id || user) === me) {\n            return;\n        }\n\n        this.storage.store(StoredChats, uniqBy([\n            {topic: `chat-direct-${[me, (user._id || user)].sort().join(\"-\")}`, subs: [me, (user._id || user), 2]},\n            ...(this.storage.retrieve(StoredChats) || [])\n        ], \"topic\"));\n    }\n\n    activateChat(chat: IChat, isStatic: boolean = false) {\n        this.storage.store(StoredChats, uniqBy([\n            {\n                topic: chat.topic,\n                name: this.chatName(chat),\n                subs: [\n                    ...(chat.subscribers || []).map(s => s.user?._id || s.user).splice(0, 3),\n                    chat.subscribers.length\n                ],\n                static: isStatic\n            },\n            ...(this.storage.retrieve(StoredChats) || [])\n        ], \"topic\"));\n    }\n\n    deactivateChat(topic: string) {\n        this.storage.store(StoredChats, (this.storage.retrieve(StoredChats) || []).filter(c => c.topic !== topic));\n    }\n\n    chatName(chat: IChat) {\n        if (chat.name) {\n            return chat.name;\n        }\n\n        switch (chat.type) {\n            case ChatType.Direct:\n                const user = (chat.subscribers.find(s => (s.user?._id || s.user) !== CURRENT_USER_ID)\n                    || chat.subscribers[0]\n                )?.user;\n                return user ? `${user.firstName} ${user.lastName}`\n                    : chat.topic.split(\"-\").splice(0, 2).join(\"-\");\n            case ChatType.Generic:\n                let name = chat.topic.split(\"-\");\n                name.pop();\n                return name.join(\"-\");\n            default:\n                return chat.topic.split(\"-\").splice(0, 2).join(\"-\");\n        }\n    }\n\n    isActionLegal(action: Partial<IChatMessageAction>): boolean {\n\n        if (!action) {\n            return false;\n        }\n\n        if (action.type && !Object.values(ChatActionType).includes((<any>action.type)?._id || action.type)) {\n            return false;\n        }\n\n        switch (action.kind) {\n            case ChatActionKind.MultipleChoice:\n                return !!action.data?.multiChoiceOptions?.length;\n            case ChatActionKind.Button:\n            case ChatActionKind.Question:\n                return true;\n            default:\n                return false;\n        }\n    }\n\n    public messageSeenBy(message: IChatMessage, userId: string, viewSeen: boolean = false): boolean {\n        if (message.sender === userId) { return true; }\n        if (!viewSeen) {\n            return message.seen?.some(seen => (seen.user?._id || seen.user) === userId);\n        } else {\n            return message.viewSeen?.some(seen => (seen.user?._id || seen.user) === userId);\n        }\n    }\n\n    public userInChatSubscribers(subscribers: IChatUser[], userId: string): boolean {\n        return subscribers.some(sub => (sub.user?._id || sub.user) === userId);\n    }\n\n    get colors() {\n        return ChatColors;\n    }\n\n    get types() {\n        return ChatType;\n    }\n\n    get actionKindAndType() {\n        return {\n            type: ChatActionType,\n            kind: ChatActionKind\n        };\n    }\n\n    get selections() {\n        return {\n            type: [\n                {_id: ChatActionType.Amount, name: \"\", inputType: \"number\"},\n            ],\n            kind: [\n                {_id: ChatActionKind.Button, name: \"\"},\n                {_id: ChatActionKind.Question, name: \" ( / )\"},\n                {_id: ChatActionKind.MultipleChoice, name: \" \"}\n            ]\n        };\n    }\n\n}\n","import {Injectable} from \"@angular/core\";\nimport {IUser} from \"../interfaces/IUser\";\n\n@Injectable({\n    providedIn: \"root\",\n})\n\nexport class HelperService {\n\n    constructor() {\n    }\n\n  /**\n   * @description Decodes an html formatted string and returns a clean string\n   * @param {string} html - The string with html entities\n   * @return the decoded html string\n   */\n  public static decodeHtml(html: string): string {\n    let txt = document.createElement(\"textarea\");\n    txt.innerHTML = html;\n    return txt.value;\n  }\n\n  /**\n   * @description Use await to delay the script execution by ms millis\n   * @param ms    - The delay in milliseconds\n   * @return An empty promise to use await on\n   */\n  public static sleep(ms: number = 0): Promise<void> {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  /**\n   * @description Inserts elements to the specified position of an array\n   * @param {any[]} arr       - The array to be modified\n   * @param {number} index    - The position to add the items to\n   * @param {any} newItems    - The item/items to be added\n   * @return A new array containing arr elements along with the newly added elements\n   */\n  public static arrayInsert(arr: any[], index: number, ...newItems: any[]): any[] {\n    return [\n      ...arr.slice(0, index),\n      ...newItems,\n      ...arr.slice(index)\n    ];\n  }\n\n  public static generateUser(name?: string): IUser {\n    const names = [\n      \"Yaritza Bradley\",\n      \"Emiliano Santana\",\n      \"Oswaldo Huber\",\n      \"Natalya Levine\",\n      \"Corbin Wilkinson\",\n      \"Adolfo Salinas\",\n      \"Darrell Haley\",\n      \"Kasey Hays\",\n      \"Yasmin Foley\",\n      \"Thaddeus Fritz\",\n      \"Ben Douglas\",\n      \"Deborah Green\",\n      \"Janae Shepard\",\n      \"Paisley Hartman\",\n      \"Joselyn Townsend\",\n      \"Mariyah Rhodes\",\n      \"Bradyn Sellers\",\n      \"Howard Haley\",\n      \"Taryn Case\",\n      \"Jett Holland\",\n    ];\n    name = names[names.indexOf(name)] || names[Math.floor(Math.random() * names.length)];\n    return {\n      _id: name,\n      firstName: name.split(\" \")[0],\n      lastName: name.split(\" \")[1],\n      fullName: name,\n      email: `${name.replace(\" \", \"\")}@test.test`,\n      gravatar: `${name.replace(\" \", \"\")}@test.test`\n    };\n  }\n\n}\n","/**\n *Made with <3 by C.R.U.D. at 11/10/2019\n */\nimport {Injectable} from \"@angular/core\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {IChat, IChatMessage} from \"../../interfaces/IChat\";\nimport {Observable, of} from \"rxjs\";\nimport * as moment from \"moment\";\nimport {ChatFacade} from \"../../reducers/chat/chat.facade\";\nimport {map, skip, take} from \"rxjs/operators\";\nimport {sortBy} from \"lodash\";\nimport {CURRENT_USER_ID} from \"../../interfaces/IUser\";\n\n@Injectable({providedIn: \"root\"})\nexport class ChatService {\n    public readonly baseUrl: string = \"/chat\";\n    public readonly messageUrl: string = \"/chat-message\";\n\n    constructor(\n        // public httpClient: HttpClient,\n        public chatFacade: ChatFacade\n    ) {\n    }\n\n    findChat(topic: string, visible?: boolean): Observable<{chat: IChat; new?: boolean}> {\n      return this.chatFacade.data.pipe(take(1), map(res => {\n        const chat = res.find(c => c.topic === topic);\n        const users = topic.replace(\"chat-\", \"\").split(\"-\");\n        users.shift();\n        return {\n          chat: chat || <IChat>{\n            topic,\n            type: topic.replace(\"chat-\", \"\").split(\"-\")[0],\n            creator: CURRENT_USER_ID,\n            createdAt: moment().toISOString(),\n            subscribers: users.map(userId => ({\n              user: userId,\n              settings: {},\n              active: true,\n              joinedAt: moment().toISOString()\n            }))\n          },\n          new: !chat\n        };\n      }));\n        // return this.httpClient.get(`${this.baseUrl}/findOrCreate/${topic}`, {params: visible ? {visible: visible.toString()} : {}});\n    }\n\n    listenToUserChats(): Observable<IChat[]> {\n      return this.chatFacade.data;\n        // return this.httpClient.get(`${this.baseUrl}/init`);\n    }\n\n    invite(topic: string, people: string[]): Observable<IChat> {\n      this.chatFacade.invite(topic, people);\n      return this.chatFacade.data.pipe(take(1), map(res => res.find(chat => chat.topic === topic)));\n        // return this.httpClient.post(`${this.baseUrl}/invite/${topic}`, {people});\n    }\n\n    // leave(topic: string): Observable<any> {\n    //     return this.httpClient.get(`${this.baseUrl}/leave/${topic}`);\n    // }\n\n    getMessages(topic: string, before?: string): Observable<IChatMessage[]> {\n      return this.chatFacade.messages.pipe(take(1), map(res => {\n        return sortBy((res || []).filter(msg => msg.topic === topic), (msg) => moment(msg.createdAt).toDate());\n      }));\n        // return this.httpClient.get(`${this.messageUrl}`, {\n        //     params: {\n        //         sort: \"-createdAt\",\n        //         limit: \"50\",\n        //         topic,\n        //         [`<createdAt`]: `${before || moment.utc().toISOString()}`\n        //     }\n        // });\n    }\n\n    sendMessage(message: Partial<IChatMessage>): Observable<Partial<IChatMessage>> {\n      message._id = Math.random().toString();\n      this.chatFacade.sendMessage(message);\n      return of(message);\n        // return this.httpClient.post(`${this.messageUrl}/create`, message);\n    }\n\n    updateMessage(id: string, options: any = {}): Observable<IChatMessage> {\n      this.chatFacade.updateMessage(id, options);\n      return this.chatFacade.messages.pipe(take(1), skip(1), map(res => ({\n        ...(res.find(msg => msg._id === id) || {_id: id}),\n        ...options\n      })));\n        // return this.httpClient.put(`${this.messageUrl}/update/${id}`, options);\n    }\n\n    markAsSeen(topic: string, messageIds: string[]): Observable<boolean> {\n      return of(true);\n        // return this.httpClient.put(`${this.messageUrl}/seen`, {topic, messageIds});\n    }\n}\n","import {Injectable, OnDestroy} from \"@angular/core\";\nimport {ScrollToService, ScrollToConfigOptions} from \"@nicky-lenaers/ngx-scroll-to\";\nimport {Observable, Subject} from \"rxjs\";\nimport {TabModel} from \"../../interfaces/TabModel\";\n\n@Injectable({\n    providedIn: \"root\",\n})\n\nexport class NavigationService implements OnDestroy{\n\n    private _unsub$: Subject<void> = new Subject<void>();\n\n    constructor(\n        private _scrollToService: ScrollToService\n    ) {\n    }\n\n    ngOnDestroy(): void {\n        this._unsub$.next();\n    }\n\n    /**\n     * @param target\n     * @description scrolls to the element with the given id\n     */\n    public scrollToId(target: string): Observable<any> {\n        const config: ScrollToConfigOptions = {\n            target,\n            duration: 500\n        };\n\n        return this._scrollToService.scrollTo(config);\n    }\n\n    /**\n     * @param offset\n     * @description scrolls to the given offset position\n     */\n    public scrollToOffset(offset: number = 0): Observable<any> {\n        const config: ScrollToConfigOptions = {\n            offset,\n            duration: 500\n        };\n\n        return this._scrollToService.scrollTo(config);\n    }\n\n    /**\n     * @param options\n     * @description calls scrollTo with the given options\n     */\n    public scrollTo(options: ScrollToConfigOptions = null): Observable<any> {\n        if (options) {\n            return this._scrollToService.scrollTo(options);\n        }\n    }\n\n    /**\n     * @param tabs\n     * @param activeTab\n     * @description Given an array of tabs returns the next tab of the active one\n     */\n    public pillsNavNext(tabs: TabModel[] = [], activeTab: string): string {\n        let active = activeTab;\n        let tab = tabs.findIndex(t => t.name === active);\n        if (tab < tabs.length - 1 && tab !== -1) {\n            active = tabs[tab + 1].name;\n        }\n        return active;\n    }\n\n    /**\n     * @param tabs\n     * @param activeTab\n     * @description Given an array of tabs returns the previous tab of the active one\n     */\n    public pillsNavPrevious(tabs: TabModel[] = [], activeTab: string = \"\"): string {\n        let active = activeTab;\n        let tab = tabs.findIndex(t => t.name === active);\n        if (tab > 0) {\n            active = tabs[tab - 1].name;\n        }\n        return active;\n    }\n\n}\n","import {Injectable} from \"@angular/core\";\nimport {filter} from \"rxjs/operators\";\nimport {NavigationEnd, Router} from \"@angular/router\";\nimport {Store} from \"@ngrx/store\";\nimport {AppState} from \"../states/app.state\";\nimport {BehaviorSubject} from \"rxjs\";\nimport {UserFacade} from \"../reducers/user/user.facade\";\nimport {CURRENT_USER_ID, IUser} from \"../interfaces/IUser\";\n\n@Injectable({\n    providedIn: \"root\"\n})\nexport class SiteService {\n\n    public showChatContainer: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(true);\n    public currentUser: IUser = {\n      _id: CURRENT_USER_ID,\n      name: \"Visitor\",\n      firstName: \"You\",\n      lastName: \"the Visitor\",\n      fullName: \"You the Visitor\",\n      email: \"test@test.test\",\n      gravatar: \"test@test.test\",\n    };\n\n    private _previousUrl: string;\n    private _currentUrl: string;\n\n    constructor(\n        private store: Store<AppState>,\n        private userFacade: UserFacade,\n        private router: Router,\n    ) {\n\n        this._currentUrl = this.router.url;\n        router.events.pipe(filter(evt => evt instanceof NavigationEnd)).subscribe((evt: NavigationEnd) => {\n            this._previousUrl = this._currentUrl;\n            this._currentUrl = evt.url;\n        });\n\n        userFacade.data.subscribe(value => {\n            this.currentUser = value;\n        });\n\n    }\n\n    /**\n     * Returns the last url of the app visited before the one the browser is already at\n     */\n    getPreviousUrl() {\n        return this._previousUrl;\n    }\n\n    getCurrentUrl() {\n        return this._currentUrl;\n    }\n\n    amISuperUser(): boolean {\n        return this.currentUser && this.currentUser.roles && this.currentUser.roles.some(role => role.superAccess);\n    }\n\n    amIAdminUser(): boolean {\n        return true;\n    }\n\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}